{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Exampville Destination Choice\n",
    "\n",
    "In this notebook, we will walk through the estimation of a tour \n",
    "destination choice model for \n",
    "Exampville, an entirely fictional town built for the express purpose of \n",
    "demostrating the use of discrete choice modeling tools for transportation \n",
    "planning.\n",
    "\n",
    "This example will assume the reader is familiar with the \n",
    "mathematical basics of destination choice\n",
    "modeling generally, and will focus on the technical \n",
    "aspects of estimating the parameters\n",
    "of a destination choice model in Python using Larch."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "If you have not yet estimated parameters of a mode choice model\n",
    "or generated logsums from that model, you should go back and\n",
    "review those sections before you begin this one."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "import larch, numpy, pandas, os\n",
    "from larch import P, X"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Data Preparation"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "To begin, we will re-load the data files from our tour mode choice example."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "import larch.exampville\n",
    "\n",
    "hh = pandas.read_csv( larch.exampville.files.hh )\n",
    "pp = pandas.read_csv( larch.exampville.files.person )\n",
    "tour = pandas.read_csv( larch.exampville.files.tour )\n",
    "skims = larch.OMX( larch.exampville.files.skims, mode='r' )"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We'll also load an employment file. This file contains employment\n",
    "data by TAZ.  The TAZ's will be the choices in the destination \n",
    "choice model, and the employment data will allow us to characterize\n",
    "the number of opportunities in each TAZ."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "<class 'pandas.core.frame.DataFrame'>\n",
      "Int64Index: 40 entries, 1 to 40\n",
      "Data columns (total 3 columns):\n",
      " #   Column         Non-Null Count  Dtype\n",
      "---  ------         --------------  -----\n",
      " 0   NONRETAIL_EMP  40 non-null     int64\n",
      " 1   RETAIL_EMP     40 non-null     int64\n",
      " 2   TOTAL_EMP      40 non-null     int64\n",
      "dtypes: int64(3)\n",
      "memory usage: 1.2 KB\n"
     ]
    }
   ],
   "source": [
    "emp = pandas.read_csv(larch.exampville.files.employment, index_col='TAZ')\n",
    "emp.info()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We'll also load the saved logsums from the mode choice estimation."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [],
   "source": [
    "logsums = pandas.read_pickle('/tmp/logsums.pkl.gz')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We'll replicate the pre-processing used in the mode choice estimation,\n",
    "to merge the household and person characteristics into the tours data,\n",
    "add the index values for the home TAZ's, filter to include only \n",
    "work tours, and merge with the level of service skims. (If this \n",
    "pre-processing was computationally expensive, it would probably have\n",
    "been better to save the results to disk and reload them as needed,\n",
    "but for this model these commands will run almost instantaneously.)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [],
   "source": [
    "co = tour.merge(hh, on='HHID').merge(pp, on=('HHID', 'PERSONID'))\n",
    "co[\"HOMETAZi\"] = co[\"HOMETAZ\"] - 1\n",
    "co[\"DTAZi\"] = co[\"DTAZ\"] - 1\n",
    "co = co[co.TOURPURP == 1]\n",
    "co.index.name = 'CASE_ID'"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "For this destination choice model, we'll want to use the mode choice\n",
    "logsums we calculated previously, and we'll use these values as data.  The alternatives in\n",
    "the destinations model are much more regular than in the mode choice \n",
    "model -- the utility function for each destination will have a common\n",
    "form -- we'll use `idca` format to make data management simpler.  This\n",
    "format maintains a data array in three dimensions instead of two: cases,\n",
    "alternatives, and variables.  We can still use a pandas.DataFrame to\n",
    "hold this data, but we'll use a `MultiIndex` for one of the typical \n",
    "dimensions.\n",
    "\n",
    "We already have one `idca` format variable: the logsums we loaded above.\n",
    "For a destination choice model, we'll often also want to use distance\n",
    "--specifically, the distance from the known origin zone to each possible\n",
    "destination zones.  We can create a distance variable as an array,\n",
    "selecting for each case in the `co` data a row from the 'AUTO_DIST'\n",
    "array that matches the correct origin zone (by index number).\n",
    "Note that we first load the skim array into memory using `[:]` and then\n",
    "select the rows, to overcome a technical limitation of the PyTables\n",
    "library (which underpins the open matrix format) that prevents us \n",
    "from reading the final array directly from the file on disk."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [],
   "source": [
    "distance = pandas.DataFrame(\n",
    "    skims.AUTO_DIST[:][co[\"HOMETAZi\"], :],\n",
    "    index=co.index,\n",
    "    columns=skims.TAZ_ID,\n",
    ") "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 41,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "CASE_ID  TAZ_ID\n",
       "0        1         8.286090\n",
       "         2         8.256698\n",
       "         3         2.928829\n",
       "         4         5.502758\n",
       "         5         5.882862\n",
       "                     ...   \n",
       "20736    36        5.217099\n",
       "         37        1.832760\n",
       "         38        2.816438\n",
       "         39        4.940639\n",
       "         40        3.047736\n",
       "Length: 302560, dtype: float64"
      ]
     },
     "execution_count": 41,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "distance.stack()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The distance and logsum arrays are both currently formatted as \n",
    "single variables stored in two-dimensional format (cases by\n",
    "alternatives) but to concatenate them together, we can use the \n",
    "`unstack` command to convert each into a one-dimensional array.\n",
    "We'll also use the `rename` command to ensure that each \n",
    "one-dimensional array is named appropriately, so that when they\n",
    "are concatenate the result will include the names of the \n",
    "variables."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [],
   "source": [
    "ca = pandas.concat([\n",
    "    distance.stack().rename(\"distance\"),\n",
    "    logsums.stack().rename(\"logsum\"), \n",
    "], axis=1)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Now we have our two variables in the correct format:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th>distance</th>\n",
       "      <th>logsum</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th></th>\n",
       "      <th>TAZ_ID</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th rowspan=\"5\" valign=\"top\">0</th>\n",
       "      <th>1</th>\n",
       "      <td>8.286090</td>\n",
       "      <td>-2.935611</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>8.256698</td>\n",
       "      <td>-2.660436</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>2.928829</td>\n",
       "      <td>-1.745654</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>5.502758</td>\n",
       "      <td>-2.229281</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>5.882862</td>\n",
       "      <td>-2.403117</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "          distance    logsum\n",
       "  TAZ_ID                    \n",
       "0 1       8.286090 -2.935611\n",
       "  2       8.256698 -2.660436\n",
       "  3       2.928829 -1.745654\n",
       "  4       5.502758 -2.229281\n",
       "  5       5.882862 -2.403117"
      ]
     },
     "execution_count": 8,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "ca.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We'll also need to join employment data to the `ca` DataFrame.  This data has unique \n",
    "values only by alternative and not by caseid, so there are only\n",
    "40 unique rows.  "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "<class 'pandas.core.frame.DataFrame'>\n",
      "Int64Index: 40 entries, 1 to 40\n",
      "Data columns (total 3 columns):\n",
      " #   Column         Non-Null Count  Dtype\n",
      "---  ------         --------------  -----\n",
      " 0   NONRETAIL_EMP  40 non-null     int64\n",
      " 1   RETAIL_EMP     40 non-null     int64\n",
      " 2   TOTAL_EMP      40 non-null     int64\n",
      "dtypes: int64(3)\n",
      "memory usage: 1.2 KB\n"
     ]
    }
   ],
   "source": [
    "emp.info()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "But to make this work with the computational \n",
    "arrays required for Larch, we'll need to join this to the other \n",
    "idca data, like this:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [],
   "source": [
    "ca = ca.join(emp, on='TAZ_ID')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 42,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([b'SUB', b'SUB', b'URB', b'URB', b'SUB', b'URB', b'SUB', b'SUB',\n",
       "       b'SUB', b'SUB', b'SUB', b'SUB', b'SUB', b'SUB', b'SUB', b'SUB',\n",
       "       b'SUB', b'SUB', b'SUB', b'SUB', b'SUB', b'SUB', b'SUB', b'SUB',\n",
       "       b'URB', b'SUB', b'SUB', b'URB', b'SUB', b'SUB', b'SUB', b'SUB',\n",
       "       b'SUB', b'SUB', b'URB', b'CBD', b'SUB', b'SUB', b'SUB', b'SUB'],\n",
       "      dtype='|S3')"
      ]
     },
     "execution_count": 42,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "skims.TAZ_AREA_TYPE[:]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We can also extract an 'Area Type' variable \n",
    "from the skims, and attach that as well:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 43,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "1     b'SUB'\n",
       "2     b'SUB'\n",
       "3     b'URB'\n",
       "4     b'URB'\n",
       "5     b'SUB'\n",
       "6     b'URB'\n",
       "7     b'SUB'\n",
       "8     b'SUB'\n",
       "9     b'SUB'\n",
       "10    b'SUB'\n",
       "11    b'SUB'\n",
       "12    b'SUB'\n",
       "13    b'SUB'\n",
       "14    b'SUB'\n",
       "15    b'SUB'\n",
       "16    b'SUB'\n",
       "17    b'SUB'\n",
       "18    b'SUB'\n",
       "19    b'SUB'\n",
       "20    b'SUB'\n",
       "21    b'SUB'\n",
       "22    b'SUB'\n",
       "23    b'SUB'\n",
       "24    b'SUB'\n",
       "25    b'URB'\n",
       "26    b'SUB'\n",
       "27    b'SUB'\n",
       "28    b'URB'\n",
       "29    b'SUB'\n",
       "30    b'SUB'\n",
       "31    b'SUB'\n",
       "32    b'SUB'\n",
       "33    b'SUB'\n",
       "34    b'SUB'\n",
       "35    b'URB'\n",
       "36    b'CBD'\n",
       "37    b'SUB'\n",
       "38    b'SUB'\n",
       "39    b'SUB'\n",
       "40    b'SUB'\n",
       "Name: TAZ_AREA_TYPE, dtype: category\n",
       "Categories (3, object): [b'CBD', b'SUB', b'URB']"
      ]
     },
     "execution_count": 43,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "area_type = pandas.Series(\n",
    "    skims.TAZ_AREA_TYPE[:],\n",
    "    index=skims.TAZ_ID[:],\n",
    "    name ='TAZ_AREA_TYPE',\n",
    ").astype('category')\n",
    "area_type"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [],
   "source": [
    "ca = ca.join(area_type, on='TAZ_ID')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 44,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th>distance</th>\n",
       "      <th>logsum</th>\n",
       "      <th>NONRETAIL_EMP</th>\n",
       "      <th>RETAIL_EMP</th>\n",
       "      <th>TOTAL_EMP</th>\n",
       "      <th>TAZ_AREA_TYPE</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th></th>\n",
       "      <th>TAZ_ID</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th rowspan=\"5\" valign=\"top\">0</th>\n",
       "      <th>1</th>\n",
       "      <td>8.286090</td>\n",
       "      <td>-2.935611</td>\n",
       "      <td>118</td>\n",
       "      <td>340</td>\n",
       "      <td>458</td>\n",
       "      <td>b'SUB'</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>8.256698</td>\n",
       "      <td>-2.660436</td>\n",
       "      <td>91</td>\n",
       "      <td>0</td>\n",
       "      <td>91</td>\n",
       "      <td>b'SUB'</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>2.928829</td>\n",
       "      <td>-1.745654</td>\n",
       "      <td>197</td>\n",
       "      <td>2</td>\n",
       "      <td>199</td>\n",
       "      <td>b'URB'</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>5.502758</td>\n",
       "      <td>-2.229281</td>\n",
       "      <td>277</td>\n",
       "      <td>8</td>\n",
       "      <td>285</td>\n",
       "      <td>b'URB'</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>5.882862</td>\n",
       "      <td>-2.403117</td>\n",
       "      <td>44</td>\n",
       "      <td>13</td>\n",
       "      <td>57</td>\n",
       "      <td>b'SUB'</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "          distance    logsum  NONRETAIL_EMP  RETAIL_EMP  TOTAL_EMP  \\\n",
       "  TAZ_ID                                                             \n",
       "0 1       8.286090 -2.935611            118         340        458   \n",
       "  2       8.256698 -2.660436             91           0         91   \n",
       "  3       2.928829 -1.745654            197           2        199   \n",
       "  4       5.502758 -2.229281            277           8        285   \n",
       "  5       5.882862 -2.403117             44          13         57   \n",
       "\n",
       "         TAZ_AREA_TYPE  \n",
       "  TAZ_ID                \n",
       "0 1             b'SUB'  \n",
       "  2             b'SUB'  \n",
       "  3             b'URB'  \n",
       "  4             b'URB'  \n",
       "  5             b'SUB'  "
      ]
     },
     "execution_count": 44,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "ca.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Then we bundle the raw data into the `larch.DataFrames` structure,\n",
    "as we did for estimation, and attach this structure to the model\n",
    "as its `dataservice`."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [],
   "source": [
    "dfs = larch.DataFrames(\n",
    "    co=co,\n",
    "    ca=ca,\n",
    "    alt_codes=skims.TAZ_ID, \n",
    "    alt_names=[f'TAZ{i}' for i in skims.TAZ_ID],\n",
    "    ch_name='DTAZ',\n",
    "    av=True,\n",
    ")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "larch.DataFrames:  (not computation-ready)\n",
      "  n_cases: 7564\n",
      "  n_alts: 40\n",
      "  data_ca:\n",
      "    - distance      (302560 non-null float64)\n",
      "    - logsum        (302560 non-null float64)\n",
      "    - NONRETAIL_EMP (302560 non-null int64)\n",
      "    - RETAIL_EMP    (302560 non-null int64)\n",
      "    - TOTAL_EMP     (302560 non-null int64)\n",
      "    - TAZ_AREA_TYPE (302560 non-null category)\n",
      "  data_co:\n",
      "    - TOURID        (7564 non-null int64)\n",
      "    - HHID          (7564 non-null int64)\n",
      "    - PERSONID      (7564 non-null int64)\n",
      "    - DTAZ          (7564 non-null int64)\n",
      "    - TOURMODE      (7564 non-null int64)\n",
      "    - TOURPURP      (7564 non-null int64)\n",
      "    - N_STOPS       (7564 non-null int64)\n",
      "    - N_TRIPS_x     (7564 non-null int64)\n",
      "    - N_TRIPS_HBW_x (7564 non-null int64)\n",
      "    - N_TRIPS_HBO_x (7564 non-null int64)\n",
      "    - N_TRIPS_NHB_x (7564 non-null int64)\n",
      "    - X             (7564 non-null float64)\n",
      "    - Y             (7564 non-null float64)\n",
      "    - INCOME        (7564 non-null float64)\n",
      "    - N_VEHICLES    (7564 non-null int64)\n",
      "    - HHSIZE        (7564 non-null int64)\n",
      "    - geometry      (7564 non-null object)\n",
      "    - HOMETAZ       (7564 non-null int64)\n",
      "    - N_TRIPS_y     (7564 non-null int64)\n",
      "    - N_TRIPS_HBW_y (7564 non-null int64)\n",
      "    - N_TRIPS_HBO_y (7564 non-null int64)\n",
      "    - N_TRIPS_NHB_y (7564 non-null int64)\n",
      "    - N_WORKERS     (7564 non-null int64)\n",
      "    - HHIDX         (7564 non-null int64)\n",
      "    - AGE           (7564 non-null int64)\n",
      "    - WORKS         (7564 non-null int64)\n",
      "    - N_WORK_TOURS  (7564 non-null int64)\n",
      "    - N_OTHER_TOURS (7564 non-null int64)\n",
      "    - N_TOURS       (7564 non-null int64)\n",
      "    - N_TRIPS       (7564 non-null int64)\n",
      "    - N_TRIPS_HBW   (7564 non-null int64)\n",
      "    - N_TRIPS_HBO   (7564 non-null int64)\n",
      "    - N_TRIPS_NHB   (7564 non-null int64)\n",
      "    - HOMETAZi      (7564 non-null int64)\n",
      "    - DTAZi         (7564 non-null int64)\n",
      "  data_av: <populated>\n",
      "  data_ch: DTAZ\n"
     ]
    }
   ],
   "source": [
    "dfs.info(1)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model Definition"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [],
   "source": [
    "m = larch.Model(dataservice=dfs)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Destination choice models are premised on the theory that each\n",
    "trip or tour has a particular destination to which it is attracted,\n",
    "and each travel zone represents not one individual alternative, \n",
    "but rather a number of similar alternatives grouped together.\n",
    "Thus the utility function in a destination choice model typically is \n",
    "comprised of two components: a qualitative component (i.e., how\n",
    "good are the alternatives in a zone) and a quantitative component\n",
    "(i.e., how many discrete alternatives are in a zone).  The mathematical\n",
    "form of the utility function for the zone is\n",
    "\n",
    "$$\\sum_i{\\beta_i}X_i + \\theta\\log\\left(\\sum_j{\\exp(\\gamma_j)}Z_j\\right)$$\n",
    "\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "raw_mimetype": "text/latex"
   },
   "source": [
    "The quantitative component of this utility function is\n",
    "written for Larch in a linear-in-parameters format similarly to\n",
    "that for the typical utility function, but \n",
    "assigned to the `quantity_ca` attribute instead of `utility_ca`.\n",
    "Also, the exponentiation of the $\\gamma$ parameters is implied\n",
    "by using `quantity_ca`.  Note that the quantitative term is in \n",
    "theory always applied only to the alternatives themselves and \n",
    "not alone to attributes of the decision maker, so the `quantity_co`\n",
    "attribute is not implemented and cannot be used."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [],
   "source": [
    "m.quantity_ca = (\n",
    "        + P.EmpRetail_HighInc * X('RETAIL_EMP * (INCOME>50000)')\n",
    "        + P.EmpNonRetail_HighInc * X('NONRETAIL_EMP') * X(\"INCOME>50000\")\n",
    "        + P.EmpRetail_LowInc * X('RETAIL_EMP') * X(\"INCOME<=50000\")\n",
    "        + P.EmpNonRetail_LowInc * X('NONRETAIL_EMP') * X(\"INCOME<=50000\")\n",
    ")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The parameter $\\theta$ is a coefficient on the entire log-of-quantity\n",
    "term, and can be defined by assigning a parameter name to the \n",
    "`quantity_scale` attribute.  "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [],
   "source": [
    "#m.quantity_scale = P.Theta"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The qualitative component of utility can be \n",
    "given in the same manner as any other discrete choice model\n",
    "in Larch."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [],
   "source": [
    "m.utility_ca = (\n",
    "    + P.logsum * X.logsum\n",
    "    + P.distance * X.distance\n",
    ")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "For this structure, we know the model will be overspecified\n",
    "if the parameter in the quantitative portion of utility are\n",
    "all estimated, in a manner similar to the overspecification\n",
    "if alternative specific constants are all estimated. To \n",
    "prevent this problem, we can lock parameters to particular\n",
    "values as needed using the `lock_values` method."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {},
   "outputs": [],
   "source": [
    "m.lock_values(\n",
    "    EmpRetail_HighInc=0,\n",
    "    EmpRetail_LowInc=0,\n",
    ")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Then let's prepare this data for estimation.  Even though the\n",
    "data is already in memory, the `load_data` method is used to \n",
    "pre-process the data, extracting the required values, pre-computing \n",
    "the values of fixed expressions, and assembling the results into\n",
    "contiguous arrays suitable for computing the log likelihood values\n",
    "efficiently."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "req_data does not request {choice_ca,choice_co,choice_co_code} but choice is set and being provided\n",
      "req_data does not request avail_ca or avail_co but it is set and being provided\n"
     ]
    }
   ],
   "source": [
    "m.load_data()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model Estimation"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<h3>Iteration 013 [Optimization terminated successfully] </h3>"
      ],
      "text/plain": [
       "<IPython.core.display.HTML object>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<p>Best LL = -25157.726761576076</p>"
      ],
      "text/plain": [
       "<IPython.core.display.HTML object>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>value</th>\n",
       "      <th>initvalue</th>\n",
       "      <th>nullvalue</th>\n",
       "      <th>minimum</th>\n",
       "      <th>maximum</th>\n",
       "      <th>holdfast</th>\n",
       "      <th>note</th>\n",
       "      <th>best</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>EmpNonRetail_HighInc</th>\n",
       "      <td>1.363793</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>-inf</td>\n",
       "      <td>inf</td>\n",
       "      <td>0</td>\n",
       "      <td></td>\n",
       "      <td>1.363793</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>EmpNonRetail_LowInc</th>\n",
       "      <td>-0.881379</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>-inf</td>\n",
       "      <td>inf</td>\n",
       "      <td>0</td>\n",
       "      <td></td>\n",
       "      <td>-0.881379</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>EmpRetail_HighInc</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1</td>\n",
       "      <td></td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>EmpRetail_LowInc</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1</td>\n",
       "      <td></td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Theta</th>\n",
       "      <td>0.749374</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.001</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0</td>\n",
       "      <td></td>\n",
       "      <td>0.749374</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>distance</th>\n",
       "      <td>-0.041820</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>-inf</td>\n",
       "      <td>inf</td>\n",
       "      <td>0</td>\n",
       "      <td></td>\n",
       "      <td>-0.041820</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>logsum</th>\n",
       "      <td>1.020821</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>-inf</td>\n",
       "      <td>inf</td>\n",
       "      <td>0</td>\n",
       "      <td></td>\n",
       "      <td>1.020821</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                         value  initvalue  nullvalue  minimum  maximum  \\\n",
       "EmpNonRetail_HighInc  1.363793        0.0        0.0     -inf      inf   \n",
       "EmpNonRetail_LowInc  -0.881379        0.0        0.0     -inf      inf   \n",
       "EmpRetail_HighInc     0.000000        0.0        0.0    0.000      0.0   \n",
       "EmpRetail_LowInc      0.000000        0.0        0.0    0.000      0.0   \n",
       "Theta                 0.749374        1.0        1.0    0.001      1.0   \n",
       "distance             -0.041820        0.0        0.0     -inf      inf   \n",
       "logsum                1.020821        0.0        0.0     -inf      inf   \n",
       "\n",
       "                      holdfast note      best  \n",
       "EmpNonRetail_HighInc         0       1.363793  \n",
       "EmpNonRetail_LowInc          0      -0.881379  \n",
       "EmpRetail_HighInc            1       0.000000  \n",
       "EmpRetail_LowInc             1       0.000000  \n",
       "Theta                        0       0.749374  \n",
       "distance                     0      -0.041820  \n",
       "logsum                       0       1.020821  "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "/Users/jeffnewman/OneDrive - Cambridge Systematics/Git/larch/larch/model/optimization.py:306: UserWarning: slsqp may not play nicely with unbounded parameters\n",
      "if you get poor results, consider setting global bounds with model.set_cap()\n",
      "  warnings.warn( # infinite bounds # )\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div><table style=\"margin-top:1px;\"><tr><th>key</th><th style=\"text-align:left;\">value</th></tr><tr><td>x</td><td style=\"text-align:left;\"><table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>0</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>EmpNonRetail_HighInc</th>\n",
       "      <td>1.363793</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>EmpNonRetail_LowInc</th>\n",
       "      <td>-0.881379</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>EmpRetail_HighInc</th>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>EmpRetail_LowInc</th>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Theta</th>\n",
       "      <td>0.749374</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>distance</th>\n",
       "      <td>-0.041820</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>logsum</th>\n",
       "      <td>1.020821</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table></td></tr><tr><td>loglike</td><td style=\"text-align:left;\">-25157.726761576076</td></tr><tr><td>d_loglike</td><td style=\"text-align:left;\"><table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>0</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>EmpNonRetail_HighInc</th>\n",
       "      <td>0.003254</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>EmpNonRetail_LowInc</th>\n",
       "      <td>0.003049</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>EmpRetail_HighInc</th>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>EmpRetail_LowInc</th>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Theta</th>\n",
       "      <td>0.006297</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>distance</th>\n",
       "      <td>-0.014778</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>logsum</th>\n",
       "      <td>-0.000878</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table></td></tr><tr><td>nit</td><td style=\"text-align:left;\">13</td></tr><tr><td>nfev</td><td style=\"text-align:left;\">32</td></tr><tr><td>njev</td><td style=\"text-align:left;\">13</td></tr><tr><td>status</td><td style=\"text-align:left;\">0</td></tr><tr><td>message</td><td style=\"text-align:left;\">'Optimization terminated successfully'</td></tr><tr><td>success</td><td style=\"text-align:left;\">True</td></tr><tr><td>elapsed_time</td><td style=\"text-align:left;\">0:00:03.603049</td></tr><tr><td>method</td><td style=\"text-align:left;\">'slsqp'</td></tr><tr><td>n_cases</td><td style=\"text-align:left;\">7564</td></tr><tr><td>iteration_number</td><td style=\"text-align:left;\">13</td></tr><tr><td>logloss</td><td style=\"text-align:left;\">3.325981856369127</td></tr></table></div>"
      ],
      "text/plain": [
       "┣                x: EmpNonRetail_HighInc    1.363793\n",
       "┃                   EmpNonRetail_LowInc    -0.881379\n",
       "┃                   EmpRetail_HighInc       0.000000\n",
       "┃                   EmpRetail_LowInc        0.000000\n",
       "┃                   Theta                   0.749374\n",
       "┃                   distance               -0.041820\n",
       "┃                   logsum                  1.020821\n",
       "┃                   dtype: float64\n",
       "┣          loglike: -25157.726761576076\n",
       "┣        d_loglike: EmpNonRetail_HighInc    0.003254\n",
       "┃                   EmpNonRetail_LowInc     0.003049\n",
       "┃                   EmpRetail_HighInc       0.000000\n",
       "┃                   EmpRetail_LowInc        0.000000\n",
       "┃                   Theta                   0.006297\n",
       "┃                   distance               -0.014778\n",
       "┃                   logsum                 -0.000878\n",
       "┃                   dtype: float64\n",
       "┣              nit: 13\n",
       "┣             nfev: 32\n",
       "┣             njev: 13\n",
       "┣           status: 0\n",
       "┣          message: 'Optimization terminated successfully'\n",
       "┣          success: True\n",
       "┣     elapsed_time: datetime.timedelta(seconds=3, microseconds=603049)\n",
       "┣           method: 'slsqp'\n",
       "┣          n_cases: 7564\n",
       "┣ iteration_number: 13\n",
       "┣          logloss: 3.325981856369127"
      ]
     },
     "execution_count": 21,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "m.maximize_loglike()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "After we find the best fitting parameters, we can compute\n",
    "some variance-covariance statistics, incuding standard errors of\n",
    "the estimates and t statistics, using `calculate_parameter_covariance`."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {},
   "outputs": [],
   "source": [
    "m.calculate_parameter_covariance()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Then we can review the results in a variety of report tables."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<style  type=\"text/css\" >\n",
       "    #T_e7c30_ th {\n",
       "          vertical-align: top;\n",
       "          text-align: left;\n",
       "    }    #T_e7c30_ td {\n",
       "          vertical-align: top;\n",
       "          text-align: left;\n",
       "    }#T_e7c30_row0_col0,#T_e7c30_row0_col1,#T_e7c30_row0_col2,#T_e7c30_row0_col3,#T_e7c30_row0_col4,#T_e7c30_row1_col0,#T_e7c30_row1_col1,#T_e7c30_row1_col2,#T_e7c30_row1_col3,#T_e7c30_row1_col4,#T_e7c30_row2_col0,#T_e7c30_row2_col1,#T_e7c30_row2_col2,#T_e7c30_row2_col3,#T_e7c30_row2_col4,#T_e7c30_row3_col0,#T_e7c30_row3_col1,#T_e7c30_row3_col2,#T_e7c30_row3_col3,#T_e7c30_row3_col4,#T_e7c30_row4_col0,#T_e7c30_row4_col1,#T_e7c30_row4_col2,#T_e7c30_row4_col3,#T_e7c30_row4_col4,#T_e7c30_row5_col0,#T_e7c30_row5_col1,#T_e7c30_row5_col2,#T_e7c30_row5_col3,#T_e7c30_row5_col4,#T_e7c30_row6_col0,#T_e7c30_row6_col1,#T_e7c30_row6_col2,#T_e7c30_row6_col3,#T_e7c30_row6_col4{\n",
       "            font-family: monospace;\n",
       "        }</style><table id=\"T_e7c30_\" ><thead>    <tr>        <th class=\"blank level0\" ></th>        <th class=\"col_heading level0 col0\" >Value</th>        <th class=\"col_heading level0 col1\" >Std Err</th>        <th class=\"col_heading level0 col2\" >t Stat</th>        <th class=\"col_heading level0 col3\" >Signif</th>        <th class=\"col_heading level0 col4\" >Null Value</th>        <th class=\"col_heading level0 col5\" >Constrained</th>    </tr></thead><tbody>\n",
       "                <tr>\n",
       "                        <th id=\"T_e7c30_level0_row0\" class=\"row_heading level0 row0\" >EmpNonRetail_HighInc</th>\n",
       "                        <td id=\"T_e7c30_row0_col0\" class=\"data row0 col0\" > 1.36</td>\n",
       "                        <td id=\"T_e7c30_row0_col1\" class=\"data row0 col1\" > 0.256</td>\n",
       "                        <td id=\"T_e7c30_row0_col2\" class=\"data row0 col2\" > 5.32</td>\n",
       "                        <td id=\"T_e7c30_row0_col3\" class=\"data row0 col3\" >***</td>\n",
       "                        <td id=\"T_e7c30_row0_col4\" class=\"data row0 col4\" > 0.00</td>\n",
       "                        <td id=\"T_e7c30_row0_col5\" class=\"data row0 col5\" ></td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_e7c30_level0_row1\" class=\"row_heading level0 row1\" >EmpNonRetail_LowInc</th>\n",
       "                        <td id=\"T_e7c30_row1_col0\" class=\"data row1 col0\" >-0.881</td>\n",
       "                        <td id=\"T_e7c30_row1_col1\" class=\"data row1 col1\" > 0.0791</td>\n",
       "                        <td id=\"T_e7c30_row1_col2\" class=\"data row1 col2\" >-11.14</td>\n",
       "                        <td id=\"T_e7c30_row1_col3\" class=\"data row1 col3\" >***</td>\n",
       "                        <td id=\"T_e7c30_row1_col4\" class=\"data row1 col4\" > 0.00</td>\n",
       "                        <td id=\"T_e7c30_row1_col5\" class=\"data row1 col5\" ></td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_e7c30_level0_row2\" class=\"row_heading level0 row2\" >EmpRetail_HighInc</th>\n",
       "                        <td id=\"T_e7c30_row2_col0\" class=\"data row2 col0\" > 0.00</td>\n",
       "                        <td id=\"T_e7c30_row2_col1\" class=\"data row2 col1\" > NA</td>\n",
       "                        <td id=\"T_e7c30_row2_col2\" class=\"data row2 col2\" > NA</td>\n",
       "                        <td id=\"T_e7c30_row2_col3\" class=\"data row2 col3\" ></td>\n",
       "                        <td id=\"T_e7c30_row2_col4\" class=\"data row2 col4\" > 0.00</td>\n",
       "                        <td id=\"T_e7c30_row2_col5\" class=\"data row2 col5\" >fixed value</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_e7c30_level0_row3\" class=\"row_heading level0 row3\" >EmpRetail_LowInc</th>\n",
       "                        <td id=\"T_e7c30_row3_col0\" class=\"data row3 col0\" > 0.00</td>\n",
       "                        <td id=\"T_e7c30_row3_col1\" class=\"data row3 col1\" > NA</td>\n",
       "                        <td id=\"T_e7c30_row3_col2\" class=\"data row3 col2\" > NA</td>\n",
       "                        <td id=\"T_e7c30_row3_col3\" class=\"data row3 col3\" ></td>\n",
       "                        <td id=\"T_e7c30_row3_col4\" class=\"data row3 col4\" > 0.00</td>\n",
       "                        <td id=\"T_e7c30_row3_col5\" class=\"data row3 col5\" >fixed value</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_e7c30_level0_row4\" class=\"row_heading level0 row4\" >Theta</th>\n",
       "                        <td id=\"T_e7c30_row4_col0\" class=\"data row4 col0\" > 0.749</td>\n",
       "                        <td id=\"T_e7c30_row4_col1\" class=\"data row4 col1\" > 0.0152</td>\n",
       "                        <td id=\"T_e7c30_row4_col2\" class=\"data row4 col2\" >-16.45</td>\n",
       "                        <td id=\"T_e7c30_row4_col3\" class=\"data row4 col3\" >***</td>\n",
       "                        <td id=\"T_e7c30_row4_col4\" class=\"data row4 col4\" > 1.00</td>\n",
       "                        <td id=\"T_e7c30_row4_col5\" class=\"data row4 col5\" ></td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_e7c30_level0_row5\" class=\"row_heading level0 row5\" >distance</th>\n",
       "                        <td id=\"T_e7c30_row5_col0\" class=\"data row5 col0\" >-0.0418</td>\n",
       "                        <td id=\"T_e7c30_row5_col1\" class=\"data row5 col1\" > 0.0107</td>\n",
       "                        <td id=\"T_e7c30_row5_col2\" class=\"data row5 col2\" >-3.90</td>\n",
       "                        <td id=\"T_e7c30_row5_col3\" class=\"data row5 col3\" >***</td>\n",
       "                        <td id=\"T_e7c30_row5_col4\" class=\"data row5 col4\" > 0.00</td>\n",
       "                        <td id=\"T_e7c30_row5_col5\" class=\"data row5 col5\" ></td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_e7c30_level0_row6\" class=\"row_heading level0 row6\" >logsum</th>\n",
       "                        <td id=\"T_e7c30_row6_col0\" class=\"data row6 col0\" > 1.02</td>\n",
       "                        <td id=\"T_e7c30_row6_col1\" class=\"data row6 col1\" > 0.0317</td>\n",
       "                        <td id=\"T_e7c30_row6_col2\" class=\"data row6 col2\" > 32.16</td>\n",
       "                        <td id=\"T_e7c30_row6_col3\" class=\"data row6 col3\" >***</td>\n",
       "                        <td id=\"T_e7c30_row6_col4\" class=\"data row6 col4\" > 0.00</td>\n",
       "                        <td id=\"T_e7c30_row6_col5\" class=\"data row6 col5\" ></td>\n",
       "            </tr>\n",
       "    </tbody></table>"
      ],
      "text/plain": [
       "<pandas.io.formats.style.Styler at 0x7fe6f87c7130>"
      ]
     },
     "execution_count": 23,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "m.parameter_summary()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div><table><thead><tr><th>Statistic</th><th>Aggregate</th><th>Per Case</th></tr><tr><td>Number of Cases</td><td colspan=\"2\">7564</td></tr><tr><td>Log Likelihood at Convergence</td><td>-25157.73</td><td>-3.33</td></tr><tr><td>Log Likelihood at Null Parameters</td><td>-28238.34</td><td>-3.73</td></tr><tr><td>Rho Squared w.r.t. Null Parameters</td><td colspan=\"2\">0.109</td></tr></thead><tbody></tbody></table></div>"
      ],
      "text/plain": [
       "<xmle.Elem 'div' with 1 children>"
      ]
     },
     "execution_count": 24,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "m.estimation_statistics()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div><table class=\"floatinghead\" style=\"margin-top:1px;\"><tr><td style=\"text-align:left;\"><div></div> + <span class=\"LinearFunc_Param\">P.logsum</span> * <span class=\"LinearFunc_Data\">X.logsum</span><br> + <span class=\"LinearFunc_Param\">P.distance</span> * <span class=\"LinearFunc_Data\">X.distance</span><br> + <span class=\"Larch_Parameter\">P.Theta</span> * log(<br>   + <span></span>exp(<span class=\"LinearFunc_Param\">P.EmpRetail_HighInc</span>) * <span class=\"LinearFunc_Data\">X('RETAIL_EMP * (INCOME&gt;50000)')</span><br>   + <span></span>exp(<span class=\"LinearFunc_Param\">P.EmpNonRetail_HighInc</span>) * <span class=\"LinearFunc_Data\">X('NONRETAIL_EMP*(INCOME&gt;50000)')</span><br>   + <span></span>exp(<span class=\"LinearFunc_Param\">P.EmpRetail_LowInc</span>) * <span class=\"LinearFunc_Data\">X('RETAIL_EMP*(INCOME&lt;=50000)')</span><br>   + <span></span>exp(<span class=\"LinearFunc_Param\">P.EmpNonRetail_LowInc</span>) * <span class=\"LinearFunc_Data\">X('NONRETAIL_EMP*(INCOME&lt;=50000)')</span><br>)</td></tr></table></div>"
      ],
      "text/plain": [
       "<xmle.Elem 'div' with 1 children>"
      ]
     },
     "execution_count": 25,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "m.utility_functions()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model Visualization\n",
    "\n",
    "For destination choice and similar type models, it might \n",
    "be beneficial to review the observed and modeled choices, \n",
    "and the relative distribution of these choices across \n",
    "different factors. For example, we would probably want \n",
    "to see the distribution of travel distance. The `Model`\n",
    "object includes a built-in method to create this kind \n",
    "of visualization.\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<AxesSubplot:xlabel='distance', ylabel='Relative Frequency'>"
      ]
     },
     "execution_count": 26,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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/PznP+fjH/84ffv25dJLL+UHP/gBBx54IE8++STTpk3j0UcfZfr06UydOpULL7yQW265pWy/u4EmSTmSUmp11PyI4LTTTmPIkCEAnHPOOfz+97/nzDPP5Morr+Sqq65i8uTJfOxjH2Px4sUsXryY0047DYCtW7cybNiwHdurr6/f6f3s2bM55ZRTuPvuu5k2bRobNmzg8ccf59xzz93R7p133gFg/vz5O6awueCCC7jqqqvK8rsbaJKUI4ceeuiOsNhu/fr1vPrqq/Tu3XuXsIsIxowZw4IFC/jlL3/J1VdfzaRJk/jkJz/JoYceyhNPPNHifvr1+8stnSlTpnD11VezZs0aFixYwMSJE9m4cSN77rknixYtanH9SkwrY7d9ScqRU089lU2bNvHv//7vQOHM6stf/jKf/exnqa2t5ZFHHmHNmjVs3ryZBx54gAkTJvD6669TW1vLZz7zGa688koWLlzIQQcdxMqVK3cEWlNTE88991yL++zfvz/HHnss06dPZ/LkyfTu3ZuBAwcyevToHVPGpJR45plnAJgwYQJ33303wI4pa8rBMzRJqpSmdZk7c2TaVgYRwf3338+0adP4xje+wbZt2zjzzDP55je/yaxZszjhhBO44IIL+POf/0xDQwNHH300v/nNb/jKV75Cr1696Nu3L7feeivve9/7uPfee/niF7/IunXr2LJlC1dccUWrPSXr6+s599xzmTt37o7vZsyYwdSpU7nxxhtpamrivPPO4/DDD+emm26ioaGBm266ib/+678ux9Ep/O7dYfqY+m/fCls2MntCib0c+/Rj9lenlq0OSWrLTtOdVPE5tLwodfoYz9AkqRJ6UPB0Fd5DkyTlgoEmScoFA02SyqgS/RJ6oo4cRwNNksqkpqaG1atXG2q7KaXE6tWrqampKWk9O4VIUpmMGDGCZcuWsXLlymqX0u3V1NQwYsSIktYx0CSpTPr27cvo0aOrXUaP5SVHSVIuGGiSpFww0CRJuWCgSZJywUCTJOWCgSZJygUDTZKUCwaaJCkXDDRJUi4YaJKkXDDQJEm5YKBJknLBQJMk5YKBJknKBQNNkpQLBpokKRcMNElSLhhokqRcMNAkSblgoEmScsFAkyTlgoEmScoFA02SlAsGmiQpFww0SVIuGGiSpFww0CRJuWCgSZJywUCTJOWCgSZJygUDTZKUCwaa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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "m.distribution_on_idca_variable('distance')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Coincidence Ratio\n",
    "\n",
    "One way of checking trip length frequency distributions is through the use of coincidence ratios. This is most easily understood as the area under both curves divided by the area under at least one of the curves, when the observed and modeled trip length frequency distributions are plotted. Mathematically, the sum of the lower value of the two distributions at each increment of time or distance is divided by the sum of the higher value of the two distributions at each increment. Generally, the coincidence ratio measures the percent of area that “coincides” for the two curves.\n",
    "\n",
    "The procedure to calculate the coincidence of distributions is as follows:\n",
    "\n",
    "\n",
    "$$\n",
    "\\frac\n",
    "{\\sum_T \\min(PM_T,PO_T)}\n",
    "{\\sum_T \\max(PM_T,PO_T)}\n",
    "$$\n",
    "\n",
    "- $PM_T$ is the proportion of modeled distribution in interval $T$\n",
    "- $PO_T$ is the proportion of observed distribution in interval $T$"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "metadata": {},
   "outputs": [],
   "source": [
    "x = m.dataframes.data_ca['distance']\n",
    "\n",
    "y1, x1 = np.histogram(\n",
    "    x,\n",
    "    weights=m.probability().reshape(-1),\n",
    "    bins=50,\n",
    "    density=True,\n",
    ")\n",
    "\n",
    "y2, x2 = numpy.histogram(\n",
    "    x,\n",
    "    weights=m.dataframes.data_ch.to_numpy().reshape(-1),\n",
    "    bins=x1,\n",
    "    density=True,\n",
    ")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.9571462824426119"
      ]
     },
     "execution_count": 28,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "coincidence_ratio = np.minimum(y1, y2).sum() / np.maximum(y1, y2).sum()\n",
    "coincidence_ratio"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Other Distributions"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<AxesSubplot:xlabel='TAZ_AREA_TYPE', ylabel='Relative Frequency'>"
      ]
     },
     "execution_count": 29,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "m.distribution_on_idca_variable(\n",
    "    m.dataservice.data_ca.TAZ_AREA_TYPE\n",
    ")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The `distribution_on_idca_variable` has a variety of options, \n",
    "for example to control the number and range of the histogram bins:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<AxesSubplot:xlabel='distance', ylabel='Relative Frequency'>"
      ]
     },
     "execution_count": 30,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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41ixYgVz5sxhyZIlzJ07l9mzZ3PllVdy//33p2W/KNBERHKMc67HGfPNjHPOOYeysjIALr74Yl5++WXOP/985s2bx6233kpFRQVf+MIXaGxspLGxkXPOOQeAvXv3Mnz48K7tVVVVHXC/pqaGs846iyeeeII5c+bQ2trKK6+8wiWXXNLV7pNPPgGgrq6ua/maK664gltvvTX1O+JTFGgiIjlm7NixXWGx344dO/jwww8pKCj4p7AzM44//njq6+v5/e9/z/z585k5cyYXXXQRY8eO5dVXXz3o55SU/KP3adasWcyfP5+tW7dSX1/PjBkz2LVrF4cffjgNDQ0HfX+6l5TRsH0RkRxz9tlns3v3bn79618D0SOr7373u1x99dUUFxfz4osvsnXrVtra2njmmWeYNm0aH330EcXFxVx++eXMmzePVatWMWbMGDZv3twVaB0dHaxevfqgnzlgwAAmTZrE3LlzqaiooKCggNLSUkaPHt21XIxzjjfeeAOAadOm8cQTTwB0LVfjNx2hiYj0Vcd2T4M5PG8rATPjt7/9LXPmzOGuu+5i3759nH/++fzoRz9i0aJFnH766VxxxRW89957hMNhJk6cyJ/+9CduueUW+vXrR2FhIQ888ACHHHIIixcv5jvf+Q7bt2+ns7OTm266qceRklVVVVxyySUsXbq067mFCxcye/Zs7r77bjo6Orj00ks5+eSTuffeewmHw9x777185StfSc2+SbRftHzMwVXd8wB07qJmmodBIf1LqPn+7DRVJiKZdsByJxm6Di1IUrV8jI7QRET6Io+CJ9vpHJqIiASCAk1ERAJBgSYi0gt+jD/IR6ncjwo0EZEkFRUV0dLSolDrI+ccLS0tFBUVpWR7GhQiIpKkkSNH0tTUxObNmzNdSs4rKipi5MiRKdmWAk1EJEmFhYWMHj0602XIp6jLUUREAkGBJiIigaBAExGRQFCgiYhIICjQREQkEBRoIiISCAo0EREJBAWaiIgEggJNREQCQYEmIiKBoEATEZFAUKCJiEggKNBERCQQFGgiIhIICjQREQkEBZqIiASCAk1ERAJBgSYiIoGgQBMRkUBQoImISCAo0EREJBAUaCIiEggKNBERCQQFmoiIBIICTUREAkGBJiIigaBAExGRQFCgiYhIICjQREQkEBRoIiISCAo0EREJBAWaiIgEggJNREQCQYEmIiKBoEATEZFAUKCJiEggKNBERCQQEgaamf3UzMamoxgREZHe8nKE9hbwoJmtMLNvmdkgv4sSERFJVsJAc8495JybBlwJjALeNLNqMzvL7+JERES88nQOzcwKgBNiX1uAN4CbzewJH2sTERHxrH+iBmb2M2AW8BLwI+fc67GX/oeZve1ncSIiIl4lDDSgEfhX59zug7w2KcX1iIiI9IqXLsdtQOH+B2Z2uJldCOCc2+5TXSIiIknxEmgLugeXc+5jYIFvFYmIiPSCl0A7WBsvXZUiIiJp4yXQVprZz8zsWDP7jJn9HKj3uzAREZFkeAm0bwN7gBrgSaAduMHPokRERJKVsOvQObcL+H4aahEREek1L9ehHQ/MIzpLSFd759wM/8oSERFJjpfBHU8CvwAeAvb6W46IiEjveAm0TufcA75XIiIi0gdeBoX8zszmmNlwMzti/5fvlYmIiCTByxHaVbHbW7o954DPpL4c8UP1ivXUNmzw1LZy/AjCk8t9rkhEJPW8jHIcnY5CxD+1DRuIbNxBaHhp3HaRjTsAFGgikpO8jHIsBm4Gyp1z15nZccAY59xzvlcnKRMaXkrN9afFbVP1y1fTVI2ISOp5OYf2CNELq6fGHjcBd/tWkYiISC94CbRjnXP/BnQAOOfaAPO1KhERkSR5CbQ9ZnYY0YEgmNmxwCe+ViUiIpIkL6McFwB/BI42s4XANOBqP4uSFGvbCO2b4IX58dttq4KiYempSUQkxbyMcnzRzFYBU4h2Nc51zm3xvTJJnfZNsGcHbGuM327PeempR0TEB15GOU6P3d0Zuw2ZGc655f6VJSnXrwCGTo3f5t2C9NQiIuIDL12O3S+oLgImEV0PTZMTi4hI1vDS5fjl7o/N7Gjg33yrSEREpBe8jHL8tCbgpFQXIiIi0hdezqH9B7Eh+0QDcDzwho81iYiIJM3LObSV3e53Aoucc3U+1SMiItIrXs6hPZaOQkRERPrCS5fj3/lHl+MBLwHOOTcu5VWJiIgkyUuX4x9it7+J3X4d2A3oyE1ERLKGl0Cb5pyb1u3x982szjn3Q7+KEhERSZaXYfslZnb6/gdmNhUo8a8kERGR5Hk5QvsG8LCZDSJ6Lm07cK2vVYmIiCTJyyjHeuBkMysFzDm33f+yckukdain1Z4rx48gPLk8DRWJiOQfL6MchwE/Ao5yzp1nZiHgNOfcf/peXQ6oHPwabHWwrTluu0jrUGjbqEATEfGJly7HR4FHgNtij98BagAFGhAuf5fwkKUJ21W9fQu0l/pfkIhInvISaEOcc/9lZvMBnHOdZrbX57pyx4Bjol+JaGkWERFfeRnluMvMyohdXG1mU4gODBEREckaXo7QbgaeBY41szrgSOCrvlYlIiKSpLiBZmYFwBmxrzFEp7t62znXkYbaREREPIvb5eic2wtUOuc6nXOrnXONCjMREclGXroc68zsPqIjG3ftf9I5t8q3qkRERJLkJdCmxm67z93ogBmpL0dERKR3egw0M7vROXefc+4sMxvrnFudzsJERESSEe8cWvf5Gn/TYysREZEs4OU6NIiObhQREcla8c6hHW5mFxENvVIzu7j7i865p32tTEREJAnxAm0ZMCt2fznw5W6vOUCBJiIiWaPHQHPOXZPOQkRERPrCy7B9ySNa201EcpUCTbpUDn4NdpYAR8VtF9m4A0CBJiJZRYGWy955ENZVJ27XcQFY4oGq4SFLCR+3BWbOjtvOyxGciEi6eVmxuhj4LlDunPummR0HjHHOPed7dRLfumporoPCQfHbWQX0OzQ9NYmIZIiXI7RHgHrgtNjjJuBJQIGWDQoHwdCp8dusSxB43W1tgBfOjN9mWxUUDfO+TRGRNPASaMc656rM7DIA51ybmYf+K/Fd9YZx1G6oSBhYkZ1lhAa2JN5g8QjYvQG2NcZvt+e8JKoUEUkPL4G2x8wO4x8rVh8LfOJrVfnO47mx2qYLiLSXEyqMv4B4aGALlcPfS/y5A46JfiXybkHiNiIiaeYl0O4E/ggcbWYLgWnA1T7WJEmcGwuVbKJm0ovpqUtEJIslDDTn3AtmVg9MITqn41zn3BbfK8tjXV2JCQIt0u6xK1FEJA94GeX4LLAIeNY5tytRe+m72k0nEmkrS11XoohIHvDS5fg/gSrgHjN7nejK1c8559p9rSzPhQ5bT82k5ZkuQ0QkZ3jpclwGLDOzAqKrVH8TeBgo9bk2X1SvWE9tw4aE7SKtQwkVrU1DRSIikgqe1kOLjXL8CvAt4FTgMT+L8lNtw4auqZviCQ1ojk4FJSIiOcHLObQaYDLRkY73A0udc/v8LsxPoeGl1Fx/WvxGL8yPXY+V4KLlJHid+FdHhyIiyfM6U0jYObfX72KCrHLwa7DVwbbmhG1Dh7ZSOXhFGqoSEQmOHgPNzGY455YAxUDlpycHydkVq9s2Qvum6BFYPFsbwFI3d3O4/F3CQ5Z6f0PxCMDDRc4iIgLEP0I7A1jCgStV75e7K1a3b4I9OxJP72T9Y6GSIl5n4RARkV6Jt2L1gtjdHzrnDjihY2ajfa3Kb/0KEk/oKyIiOcXLKMenDvLc4lQXIiIi0hfxzqGdAIwFBpnZxd1eKgWK/C5Mcl/1s49TG9npqW1laCDhWZf7XJGIBFm8c2hjgArgcA48j7aT6MXVks86WhOum1bbcC6R9tGEij+M2y6yuxwiLYRnpbA+Eck78c6h1QK1Znaacy7xxVOSP/odCvs+STywpl8FoQHN1JwWfwqvqrrpQEnq6hORvORlXPrfzOwGot2PXV2NzrlrfatKsltBUfQrlStli4j0kZdBIb8B/hvwJWAZMJJot6OIiEjW8BJon3XO3Q7scs49BlwAfM7fskRERJLjJdA6Yrcfm9lJwCBglG8ViYiI9IKXc2gPmtlg4HbgWWAAcIevVYmIiCTJy3poD8XuLgM+4285kisiO8uoev1gs6Id2CY0sCVNFYlIvot3YfXN8d7onPtZ6suRXFA5/D1P7UIDWzy3FRHpq3hHaAPTVoXklPDRawgfvSbTZYiIHCDehdU/SGchIiIifZFwlKOZHW9mL5lZY+zxODP7V/9LExER8c7LsP1fAfOJDd93zr0JXOpnUSIiIsnyEmjFzrnXP/Vcpx/FiIiI9JaXQNtiZscSXaUaM/sqsNHXqkRERJLk5cLqG4AHgRPMbAOwFvi6r1WJiIgkycuF1e8DXzSzEqJHdG1AFfCBz7UlpXrFemobNiRsF2kdSqhobRoqEhGRdOqxy9HMSs1svpndZ2bnALuBq4D3gK+lq0Cvahs2ENm4I2G70IBmKge/loaKREQkneIdof0G2Aa8SnSF6u8BhwAXOuca/C8teaHhpdRcf1r8Ri/Mjy1MmWAtLxERySnxAu0zzrnPAZjZQ8AWoNw5p7XQRNLAazc6QOX4EYQnl/tckUh2ixdo+5eNwTm318zWKswko955ENZVe2s7KgzHX+dvPT7b340eGl4at93+rnYFmuS7eIF2spntPyllwGGxxwY451z8n7J0a9sI7ZuiXYrxbG0A8zK4U7LOumporoPCQfHbdWyP3uZ4oNG2kVDRJmpG18RtVrWtCtqGpakokewVby7HgnQW0hPPoxe3OEKH7IidH4vD+kPxiBRVJ6kSaR1K1S9fjd9oWxV0VngKtMqO9YRTV15mtG+CPR6+p/ecl556RLJc1h+qeO12CQ1opnLgX2GoBnvkmsrBr8HOEuColGwv0lYOm0pyP9AA+hUk/p5+Nyv+9hTJuKwPNNDoxaALD1lK+LgtMHN2/Ib7/48T/IKvqpsOlKSuQBHJCdkfaDo3JiIiHmR/Ang9j6BzY7ltawO8cGbiNvqjRUR6kBu/HbycR5DcVTwCdm/QHy0i0ie5EWgSbAOOiX6JiPSBAk3yV4Au1I7sKKPqngcStqsMDSQ86/I0VCSSfgo0yV8BuVC7cthbsImEy+5GdpdDpIXwrLSUJZJ2CjQJpo5Wb4NMCgclPj/b/EqqqvJF+LPNhD/bnLCdLmeQoFOgSfD0O5TIrmFUvV6RoGEF9DsU1hXFb9YxHfqXwNoEM5mgSYJFMkmBJoFTObIJNhYBCboSU0yTBItklgJNAid89BrCR69J3QabX4HBJyWcySThXJQi4isFmkgKRTbu8BRs6poUST0FmogXHmYyqTxkHBSdGF3nPY5I61Bo26hAE0kxBZpIIh5nMgkXNxIenXhzVW/fAu3ZtZygSBAo0EQSSfVMJnm23Ev1s49TG/G22L0u/Ja+UKCJZICXBU0jrUMJFa1NU0X+qY3sJLKjjFDx+rjtdOG39JUCTSTNvC5oGl209rX0FOWzUPF6aqYtj9tGF35LXynQRNIs6QVNtWitiCcKNJFM0PpvIimnnxaRdNP6byK+UKCJpJvWfxPxRb9MFyAiIpIKCjQREQkEBZqIiASCAk1ERAJBgSYiIoGgQBMRkUBQoImISCAo0EREJBAUaCIiEgiaKUREeqV6xXpqGzYkbBeUZXAk+ynQRKRXal9dSWSLIzSgOW670KGtVA5ekaaqJJ8p0ETkQO88COuqE7fbcS6hQ6Bm9E8Tty0eAeTJ/JVe999+o8Jw/HX+1ZNHFGgicoDqukZqPzwP+hXEbRf5pJxQySYYmifrtXkNqk3LoreHlCVu27E9eqtASwkFmogcoHbTiUQ+KSNUuj1uu1DhdiqHN6Wpqiywrhqa66BwUPx2h5RFj0i9rKjQ/EpqahNAgSYiBxE6bD01k5an/XMjrUOp+uWrCdtVjh9BeHJ5Gir6lMJB+XNEmoMUaCKSFSoHvwY7S4Cj4raLbNwBkPZAq94wjtoNFbAuwRFaMjqmUzliPeHUbTGvKdBEJCuEhywlXPZnOGJ83HZV26qgbVh6iuqmdtOJRNrKCBXG74pNRqStHDaVKNBSRIEmkk86WuGFMxO0uQDM0lLOAYpHwO4NsK0xfrs956WnnoNIdVdsVd10oCRl28t3CjSRfNHvUNj3SeLAsIpo23QbcIy3gRTvxh99KflLgSaSLwqKol+JBjWk8hyRT7J+8IhkhAJNJI9EdpZR9fqXE7YJDWxJU0XJy/bBI5I5CjSRPFE5/D1P7UIDWzy3zYRsHzwimaNAE8kT4aPXED56TabL6LscGDwimaFAE5HckuLBI1o1IDgUaCKS17RqQHAo0EQkv7VvInTIDmpG/yRxWx9WDYjsKKPqngcStqsMDSQ86/KUfnbQKNBERPoVZGSOxsphb8EmoDN+u8jucoi0EJ6VlrJylgJNRCRDwp9tJvzZ+F2doBlFvOqX6QJERERSQUdoIiJycMmsvp0FK28r0ERE5OC8LmqaJStvK9BEROSgutaA8xJoax2syuxoTQWaiEieqX72cWojOxO2W/HxlwCYPPij+A33r+TQuStuM79HayrQRETyTG1kJ5EdZYSK18dtN3nAGiqHveVpJKYXfo/WVKCJSHBl84KmGRYqXk/NtNQtVpoNFGgiEkz9DiWyaxhVr1fEbRZpLydUsilNRfWe1oBLTIEmIoFUObIJNhYB8Qc0hAq3Uzm8KT1F9ZLWgPNGgSYigRSY5XLQGnBeKdBERLKd5zXgzoU927P7vKGX85rAsFKGJLtpBZqISLbzugbc/y3J7vOGHs9rsm8vgwcsK0t28wo0EZGAyPbzhl7r65p5JEnmnOvVG+M5YsRId871N6ZkW5H20YSK1lIz5qcp2Z6IiGS5ju2ceGtn65oNbmAyb8v6I7RQ0VoqBy2FwSdluhQREUmTba3LWpJ9jy9HaBMnTnQrV65M+XZFRCQ/mFm9c25iMu/RemgiIhIICjQREQkEBZqIiASCAk1ERAJBgSYiIoGgQBMRkUBQoImISCAo0EREJBAUaCIiEgi+zBRiZjuBt1O+4fwyBNiS6SJymPZf32j/9Y32X9+NcS475nJ8O9kpS+RAZrZS+7D3tP/6Rvuvb7T/+s7Mkp4/UV2OIiISCAo0EREJBL8C7UGftptPtA/7Rvuvb7T/+kb7r++S3oe+DAoRERFJN3U5iohIIKQ80MzsXDN728zeM7Pvp3r7QWZmR5vZ/zGzNWa22szmZrqmXGRmBWb2NzN7LtO15CIzO9zMFpvZW7HvxdMyXVMuMbN/if38NprZIjMrynRN2c7MHjazZjNr7PbcEWb2opm9G7sdnGg7KQ00MysA7gfOA0LAZWYWSuVnBFwn8F3n3InAFOAG7b9emQusyXQROexe4I/OuROAk9G+9MzMRgDfASY6504CCoBLM1tVTngUOPdTz30feMk5dxzwUuxxXKk+QpsEvOece985twd4AqhM8WcElnNuo3NuVez+TqK/SEZktqrcYmYjgQuAhzJdSy4ys1JgOvCfAM65Pc65jzNaVO7pDxxmZv2BYuCjDNeT9Zxzy4Gtn3q6Engsdv8x4MJE20l1oI0APuz2uAn9Qu4VMxsFTABWZLiUXPPvwPeAfRmuI1d9BtgMPBLrtn3IzEoyXVSucM5tAH4KrAc2Atudcy9ktqqcNcw5txGif+wDQxO9IdWBZgd5TsMok2RmA4CngJucczsyXU+uMLMKoNk5V5/pWnJYf+AU4AHn3ARgFx66eiQqdp6nEhgNHAWUmNnlma0qf6Q60JqAo7s9HokOt5NiZoVEw2yhc+7pTNeTY6YBs8xsHdHu7hlm9nhmS8o5TUCTc25/z8BiogEn3nwRWOuc2+yc6wCeBqZmuKZctcnMhgPEbpsTvSHVgfZX4DgzG21mhxA9Gfpsij8jsMzMiJ67WOOc+1mm68k1zrn5zrmRzrlRRL/3ljjn9NdxEpxz/w/40MzGxJ46G4hksKRcsx6YYmbFsZ/ns9Ggmt56Frgqdv8qoDbRG1I6ObFzrtPMbgT+RHR0z8POudWp/IyAmwZcAfzdzBpiz/1359zvM1eS5KFvAwtjf5S+D1yT4XpyhnNuhZktBlYRHbX8NzRrSEJmtgg4ExhiZk3AAuAe4L/M7BtE/1C4JOF2NFOIiIgEgWYKERGRQFCgiYhIICjQREQkEBRoIiISCAo0EREJhJQO2xfJB2Z2J9AKlALLnXN/7qHdhcA7zjldxyWSBjpCE+kl59wdPYVZzIVEV50QkTRQoIl4YGa3xdb5+zMwJvbco2b21dj9e8wsYmZvmtlPzWwqMAv4iZk1mNmxZvZNM/urmb1hZk+ZWXG37fwvM3vFzN7fv83Ya98zs7/H3nNP7LljzeyPZlZvZn8xsxPSvkNEspC6HEUSMLPPE51KawLRn5lVQH23148ALgJOcM45MzvcOfexmT0LPOecWxxr97Fz7lex+3cD3wD+I7aZ4cDpwAlEp/xZbGbnET3Km+yc2x37HIjOPPEt59y7ZjYZ+N/ADP/2gEhuUKCJJPYF4LfOud0AsaDqbgfQDjxkZs8DPa2UfVIsyA4HBhCdIm6/Z5xz+4CImQ2LPfdF4JH9n+uc2xpbiWEq8GR0qkAADu3LP04kKBRoIt70OEdcbA7TSUQnor0UuJGDHzE9ClzonHvDzK4mOnfdfp90u2/dbj/9uf2Aj51z45OoXSQv6ByaSGLLgYvM7DAzGwh8ufuLsaOmQbFJpG8Cxsde2gkM7NZ0ILAxtkTQ1z187gvAtd3OtR0RWx9vrZldEnvOzOzkXv/LRAJEgSaSgHNuFVADNBBdq+4vn2oyEHjOzN4ElgH/Env+CeCW2MrPxwK3E12B/EXgLQ+f+0ei59NWxlZfmBd76evAN8zsDWA10QUlRfKeZtsXEZFA0BGaiIgEggJNREQCQYEmIiKBoEATEZFAUKCJiEggKNBERCQQFGgiIhIICjQREQmE/w/forvqUEgGGAAAAABJRU5ErkJggg==\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "m.distribution_on_idca_variable('distance', bins=40, range=(0,10))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Alternatively, the histogram style can be swapped out for a smoothed \n",
    "[kernel density function](https://en.wikipedia.org/wiki/Kernel_density_estimation),\n",
    "by setting the `style` argument to `'kde'`."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 31,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<AxesSubplot:xlabel='distance', ylabel='Relative Frequency'>"
      ]
     },
     "execution_count": 31,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "m.distribution_on_idca_variable(\n",
    "    'distance',\n",
    "    style='kde',\n",
    "    range=(0,13),\n",
    ")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Subsets of the observations can be pulled out, \n",
    "to observe the distribution conditional on other \n",
    "*idco* factors, like income."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 32,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<AxesSubplot:xlabel='distance', ylabel='Relative Frequency'>"
      ]
     },
     "execution_count": 32,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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z3/+cz7ykY9QV1fHZZddxne/+132339/nnrqKa688koeffRRrr76aq644gouuugibrvttrL97gaaJOVISqnDWfMjgtNOO43hw4cDcO655/K73/2OM888k2uuuYZrr72WqVOn8uEPf5gFCxawYMECTjvtNAA2btzIqFGjtuyvqalpm+czZ87klFNO4f777+fKK69k7dq1PP7445x33nlb2r377rsAtLS0bFnC5sILL+Taa68ty+9uoElSjhx88MFbwmKzNWvW8Nprr9G/f/8dwi4iOOCAA5g3bx6//OUvmTZtGlOmTOFjH/sYBx98ME888cROv2fgwP8ao3D22Wczbdo0Vq5cybx585g8eTLr1q1jzz33ZP78+TvdvhLLyngfmiTlyKmnnsr69ev5l3/5F6DQs/ryl7/MZz7zGQYMGMDDDz/MypUr2bBhAw8++CAnnHACf/rTnxgwYACf/vSnueaaa3j22WeZMGECb7zxxpZAa2tr44UXXtjpdw4aNIijjz6aq6++mqlTp9K/f3+GDBnC+PHjtywZk1LiueeeA+CEE07g/vvvB9iyZE052EOTpEppW515MEemfWUQEfz0pz/lyiuv5Bvf+AabNm3izDPP5Jvf/Cb33XcfJ554IhdeeCEvvfQSzc3NHHnkkfzmN7/hK1/5Cv369aOuro7bb7+d973vfTzwwAN84QtfYPXq1bS3t/PFL36xw5GSTU1NnHfeecyZM2fLe9OnT+eKK67g5ptvpq2tjfPPP59DDz2UW265hebmZm655RY+/vGPl+PoFH733rB8TNO3b4f2dcw8ocRh+7sNZOZXryhbHZLUmW2WO6nifWh5UeryMfbQJKkS+lDw1AqvoUmScsFAkyTlgoEmSWVUiXEJfVF3jqOBJkllUl9fz4oVKwy1XZRSYsWKFdTX15e0nYNCJKlMxowZw5IlS3jjjTeqXUqvV19fz5gxY0raxkCTpDKpq6tj/Pjx1S6jz/KUoyQpFww0SVIuGGiSpFww0CRJuWCgSZJywUCTJOWCgSZJygUDTZKUCwaaJCkXDDRJUi4YaJKkXDDQJEm5YKBJknLBQJMk5YKBJknKhXyvh9a2Fmaf3L1txzXDAZeVtRxJUuXkN9D67Q6b3oVVC0rftm114dFAk6ReI7+B1r++8DPy+NK3Xf54+euRJFWU19AkSblgoEmScsFAkyTl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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "m.distribution_on_idca_variable(\n",
    "    'distance',\n",
    "    subselector='INCOME<10000',\n",
    ")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "It is also possible to customize some cosmetic parts of\n",
    "the generated figure, for example attaching a title or\n",
    "giving a more detailed and well formatted label for the\n",
    "x-axis."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<AxesSubplot:xlabel='Distance (miles)', ylabel='Relative Frequency'>"
      ]
     },
     "execution_count": 33,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAAbQAAAEkCAYAAABHUsQFAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjMuNCwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy8QVMy6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAg8klEQVR4nO3de3hV1bnv8e8LxB3CTcrFjVwE3YAERbCIKBYBC1qNxNraaFq12ufoAbRYS7fyuBWtnta97al1V49K3YptAVMvNba2FY8UrFFRQhEhVOsRxCCbu1yDJPCeP9aCBgxhrbnmus38Ps+TJ+s25vzNiHkz5hxzDHN3RERE8l2rbAcQEREJgwqaiIhEggqaiIhEggqaiIhEggqaiIhEggqaiIhEQpt0bLRr167et2/fdGxaRERasOrq6k3u3q2p99JS0Pr27cvixYvTsWkREWnBzOyjI72nU44iIhIJKmgiIhIJKmgiIhIJabmGJiLSEtXX11NbW8uePXuyHSXvFRYW0qtXLwoKChJuo4ImIhKS2tpaOnToQN++fTGzbMfJW+7O5s2bqa2tpV+/fgm30ylHEZGQ7Nmzhy5duqiYpcjM6NKlS9I9XRU0EZEQqZiFI8jPUQVNRCRCzIwrr7zy4POGhga6detGSUlJUtvp27cvmzZtSvkzjc2aNYsbbrghqRzJiNw1tDmL1lC5dG3g9qVDe1J+Zp8QE4mIZE67du1Yvnw5dXV1tG3blpdffpmePXtmO1ZGRK6HVrl0LTXrtgdqW7Nue0rFUEQkF3zlK1/hxRdfBGDu3LlcccUVB9/bsmULl1xyCUOGDGHkyJEsW7YMgM2bNzNhwgSGDRvG9ddfj7sfbPPrX/+aESNGMHToUK6//nr27dv3uX0e6TNPPPEEAwYM4Nxzz6Wqqiqdhx29HhpAcY+OVFx/VtLtyh59Iw1pRKQluut3K6j5JNgf10dSfHxHZlw8+Kifu/zyy/nhD39ISUkJy5Yt49prr+Uvf/kLADNmzGDYsGE8//zzzJ8/n6uuuoqlS5dy1113cc4553DHHXfw4osvMnPmTABWrlxJRUUFVVVVFBQUMHnyZGbPns1VV111cH9H+sz48eOZMWMG1dXVdOrUibFjxzJs2LBQfyaNRbKgiYi0ZEOGDGH16tXMnTuXCy+88JD3XnvtNZ599lkAxo0bx+bNm9m2bRuvvvoqzz33HAAXXXQRnTt3BuCVV16hurqaM844A4C6ujq6d+9+yDaP9JlFixYxZswYunWLzSVcVlbG+++/n7bjVkETEUmDRHpS6TRx4kSmTZvGggUL2Lx588HXG59KPODAiMKmRha6O1dffTU//vGPj7ivI33m+eefz+ioz8hdQxMREbj22mu54447OPXUUw95ffTo0cyePRuABQsW0LVrVzp27HjI63/84x/ZunUrAOeddx7PPPMMGzZsAGLX4D766NAJ74/0mTPPPPNgQa2vr+fpp59O6zFHr4dWtw72rId505Nvu7UMCo8LP5OISIb16tWLqVOnfu71O++8k2uuuYYhQ4ZQVFTEk08+CcSurV1xxRWcfvrpnHvuufTpExvtXVxczD333MOECRPYv38/BQUFPPTQQ5xwwgkHt3mkz4wcOZI777yTs846ix49enD66ac3OaAkLNZU9zNVw4cP92yth1Z278OwdzsVA+9Lvu17P4BjOlJx66Q0JBORqFu5ciWDBg3KdozIaOrnaWbV7j68qc9Hr4cG0Ko1dD87+XZ/bx1+FhERyQhdQxMRkUhQQRMRkUhQQRMRkUhQQRMRkUhQQRMRkUiI5ihHEZFse/sm2Lo03G12Hgpn/OyoH6utrWXKlCnU1NSwf/9+SkpKuO+++5gzZw6LFy/mwQcfDDdXitq3b8/OnTtT3o4KmohIOmxdChuqoKBTONur35bQx9ydSy+9lEmTJlFZWcm+ffu47rrruO222xg8OPzpuBoaGmjTJjdKSW6kEBGJooJOwe6JbcqG1xP62Pz58yksLOSaa64BoHXr1tx///3069ePu+++m48//pgLLriAVatWUV5ezowZM9i1axff+MY3qK2tZd++fdx+++2UlZVRXV3NzTffzM6dO+natSuzZs2iR48ejBkzhrPPPpuqqirGjRvHE088wYcffkirVq3YvXs3AwcO5MMPP2TNmjVMmTKFjRs3UlRUxC9+8QtOPvnkg/tuaGjgggsuCOfngwqaiEikrFixgi9+8YuHvNaxY0f69OlDQ0MDb731FsuXL6eoqIgzzjiDiy66iI8++ojjjz/+4Bpq27Zto76+nhtvvJHKykq6detGRUUFt912G48//jgAn376KQsXLgRgyZIlLFy4kLFjx/K73/2O888/n4KCAq677joeeeQR+vfvz6JFi5g8eTLz589n6tSpTJo0iauuuoqHHnootGNXQRMRiRB3P+Ks+WbG+PHj6dKlCwCXXnopr732GhdeeCHTpk3jlltuoaSkhC996UssX76c5cuXM378eAD27dtHjx49Dm6vrKzskMcVFRWMHTuWp556ismTJ7Nz505ef/11LrvssoOf++yzzwCoqqo6uITNlVdeyS233BLKsaugiYhEyODBgw8WiwO2b9/Oxx9/TOvWrT9X7MyMAQMGUF1dzR/+8AemT5/OhAkT+OpXv8rgwYN5442mFz5u167dwccTJ05k+vTpbNmyherqasaNG8euXbs49thjWbp0aZPt07GsjIbti4hEyHnnncfu3bv55S9/CcR6Vt///vf59re/TVFRES+//DJbtmyhrq6O559/nlGjRvHJJ59QVFTEt771LaZNm8aSJUsYOHAgGzduPFjQ6uvrWbFiRZP7bN++PSNGjGDq1KmUlJTQunVrOnbsSL9+/Q4uGePuvPPOOwCMGjWKp556CuDgkjVhUA/tcPU7Yd6Y4O37lsOA60KLIyJ5rH5bwoM5EtpWAsyM3/72t0yePJm7776b/fv3c+GFF/KjH/2IuXPncs4553DllVfywQcfUF5ezvDhw3nppZf4wQ9+QKtWrSgoKODhhx/mmGOO4ZlnnuG73/0u27Zto6GhgZtuuumIIyXLysq47LLLWLBgwcHXZs+ezaRJk7jnnnuor6/n8ssv57TTTuOBBx6gvLycBx54gK997Wth/HRixx7J5WMadlEx6tXk274xHvZ/RkX/e4PtvH4bdB8FExYEay8iee2Q5U6yeB9aVGj5mFS0Lox9BR1mG9ZfYiKS/1pQ4ckVuoYmIiKRoIImIiKRoIImIhKidIxLaImC/BxV0EREQlJYWMjmzZtV1FLk7mzevJnCwsKk2mlQiIhISHr16kVtbS0bN27MdpS8V1hYSK9evZJqo4ImIhKSgoIC+vXrl+0YLZZOOYqISCSooImISCSooImISCSooImISCSooImISCSooImISCSooImISCSooImISCSooImISCSooImISCSooImISCSooImISCSooImISCSooImISCSooImISCSooImISCRogc8cMmfRGiqXrg3cvnRoT8rP7BNiIhGR/KEeWg6pXLqWmnXbA7WtWbc9pWIoIpLv1EPLMcU9OlJx/VlJtyt79I00pBERyR/q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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "m.distribution_on_idca_variable(\n",
    "    'distance',\n",
    "    xlabel=\"Distance (miles)\",\n",
    "    bins=26,\n",
    "    subselector='INCOME<10000',\n",
    "    range=(0,13),\n",
    "    header='Destination Distance, Very Low Income (<$10k) Households',\n",
    ")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Alternatively, a `matplotlib.Axes` instance can be passed to the \n",
    "`distribution_on_idca_variable` function as the `ax` argument, and\n",
    "the figure will be drawn there.  This allows full customizability\n",
    "of the rest of the figure using the usual matplotlib features."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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Wb58OR0dHQwfPpzHHnuM2trauMuSnnJlVnmtSMpsCiivEqr0vGrMriTGOeecwyOPPALAvffey0UXXbR73fr167nggguYOXMmxx13HM8++ywA69at48wzz+Twww/nyiuvxN13P+YnP/kJxxxzDLNmzeLKK69k586dvfaZb5s777yT6dOnc/LJJ7Nw4cIo/9giqaXMiqRHJedVU49JNzf//Dkyr20q6nPWTx7Djecf0u92H/7wh/nKV77CnDlzePbZZ7n88sv5/e9/D8CNN97I4YcfzsMPP8zjjz/OJZdcwrJly7j55ps56aST+PKXv8wjjzzCbbfdBsCKFStobm5m4cKFVFdXc/XVV3PPPfdwySWX7N5fvm3OOOMMbrzxRpYuXcrYsWM59dRTOfzww4v6mogUizKrzEp6KK/x5FXNriTGzJkzWblyJffeey/nnntut3V/+MMfePDBBwE47bTTWLduHRs3buSJJ57gpz/9KQDnnXce48aNA+B3v/sdS5cu5eijjwago6ODiRMndnvOfNssXryYU045hX333ReAxsZGXnjhhej+4CIppcyKpEcl51XNrnRTyKfDKM2dO5drr72W+fPns27dut3Ls7866dI1BUmuqUjcnY997GN87Wtfy7uvfNs8/PDDmiZGUkOZVWYlPZTXePKqMbuSKJdffjlf/vKXefe7391t+ezZs7nnnnsAmD9/PhMmTGDMmDHdlv/qV79iw4YNAJx++uk88MADtLe3A8F4pFdeeaXbc+bb5thjj939H0FnZyf3339/pH9mkTRTZkXSo1LzqiO7kihTpkzhmmuu6bX8pptu4rLLLmPmzJmMGDGCu+++GwjGGV100UUcccQRnHzyydTV1QFQX1/PLbfcwplnnsmuXbuorq7m1ltvZf/999/9nPm2Oe6447jppps4/vjjmTRpEkcccUTOgfciosyKpEml5tVyHboeqqOOOsqXLFnS90aPnhLM+Zdv6rFxh8KZ84tem/S2YsUKZsyYEXcZZSPX62lmS939qJhK6lchmZ1352doWVMXTGeUrXMjDbWraLrsXyOsULIps8VTrnnN+x6r99eSU16LazCZ1TAGESlIS9sMMh11vZZnOupoadN/5CIikkyxDWOYt2YmLWvmwMqxvVd2zg6OFJW+LBHpQ/3wVTQf80S3ZY0LZwMj4ylIRESkH7Ed2c13lAh0pEhEREREiiPWE9RyHSUCHSkSERERkeLQmF0RERERKVuaeky6++/PwoZlxX3OcbPg6G8X9zlFJKDMiqSH8hoLNbvS3YZl0L6w9/RSg9W5seBNV69ezSc/+UkymQy7du1izpw5fOMb32DevHksWbKE7373u8WpqUhGjRrFli1b4i5DKl1MmVVeky3vSeA6ATxeymtBip1XNbvSW/XY3PMfD0b7ooI2c3fe//73c9VVV9HS0sLOnTu54ooruOGGGzjkkOJfXnHHjh3stZf++UuZKHFmldfkC04CH099dfdmKNNRB20j1ezGSXktOY3ZlUR4/PHHqamp4bLLLgOgqqqKb33rW9xxxx1s3bqVV199lbPPPpuDDz6Ym2++GYA333yT8847j8MOO4xDDz2U5uZmAJYuXcrJJ5/MkUceyVlnnUVraysAp5xyCn//93/PySefzD/90z8xbdo0du3aBcDWrVuZOnUqnZ2d/OUvf+Hss8/myCOP5D3veQ/PP/88AC+//DLHH388Rx99NF/60pdK/RKJJIbymg7BSeA/73arH74q7rKkxJRXHdmVhHjuuec48sgjuy0bM2YMdXV17Nixg6eeeorly5czYsQIjj76aM477zxeeeUVJk+ezCOPPALAxo0b6ezs5NOf/jQtLS3su+++NDc3c8MNN3DHHXcA8MYbb7BgwQIAnn76aRYsWMCpp57Kz3/+c8466yyqq6u54oor+P73v89BBx3E4sWLufrqq3n88ce55ppruOqqq7jkkku49dZbS/sCiSSI8iqSHsqrml1JCHfHzPIuP+OMMxg/fjwA73//+/nDH/7Aueeey7XXXssXv/hF5syZw3ve8x6WL1/O8uXLOeOMMwDYuXMnkyZN2v18jY2N3X5vbm7m1FNP5b777uPqq69my5YtLFq0iAsvvHD3dm+99RYACxcu5MEHHwTg4osv5otf/GLxXwiRFFBeRdJDeVWzKwlxyCGH7P6H3mXTpk28+uqrVFVV9QqqmTF9+nSWLl3KL3/5S66//nrOPPNM3ve+93HIIYfwxz/+Med+Ro7cM3/z3Llzuf7661m/fj1Lly7ltNNO480332SfffZh2bJlOR+f6z8MkUqjvIqkh/KqMbuSS+fGYNB7MW4Fnil6+umns3XrVn70ox8BwSfGz3/+81x66aWMGDGCxx57jPXr19PR0cHDDz/MiSeeyGuvvcaIESP46Ec/yrXXXsvTTz/NwQcfzOuvv747jJ2dnTz33HM59zlq1CiOOeYYrrnmGubMmUNVVRVjxozhgAMO4P777weCT77PPPMMACeeeCL33XcfAPfcc8+QXmKRoipxZpVXkSFQXoHS5lVHdqW7cbNieU4z46GHHuLqq6/mH//xH9m1axfnnnsuX/3qV7n33ns56aSTuPjii3nppZdoamriqKOO4je/+Q3XXXcdw4YNo7q6mu9973u87W1v44EHHuAzn/kMGzduZMeOHXz2s5/Ne8ZpY2MjF154IfPnz9+97J577uGqq67illtuobOzkw9/+MMcdthhfOc736GpqYnvfOc7fOADHyjSiyMyRDFkVnkVGSTlNZa8mrsX/UmPOuooX7JkSZ/bNH79e7DjTZpPzHO54L1G0vx3VxW9NultxYoVzJgxI+4yykau19PMlrr7UTGV1K+hZFZ5LT1ltniUV4ma8lpcg8mshjGIiIiISNnSMAYRSYR5i1fRsmxNr+UNs2ppOrYuhopERKQc6MiuAMFAcRk6vY6D17JsDZnWTd2WZVo35WyARf/WikGvoZSK/q0Vx2BfRx3ZFWpqali3bh3jx4/XVD1D4O6sW7eOmpqauEtJrfpJY2i+8vjd9xt/kHuKm0qnzA6d8iqlorwWx1Ayq2ZXmDJlCqtXr+b111+Pu5TUq6mpYcqUKXGXIWVOmS0O5VVKQXktnsFmVs2uUF1dzQEHHBB3GSJSIGVWJD2U1/ip2RWRZOhohW1t8Oj1e5ZtaISa/eKrSUREUk/Nrogkw7Y22L4JNizfs2z7OfHVIyIiZUHNrogkx7AqmHjCnvsvVsVXi4iIlAVNPSYiIiIiZUvNroiIiIiULTW7IiIiIlK21OyKiIiISNlSsysiIiIiZUvNroiIiIiUreROPda5BR49Jfe6aU0w/YqSliMiIiIi6ZPMZnfY3rDrre6Ty3fp3Bj8VLMrIiIiIv1IZrNbVRPcsieX79K+qPT1iIiIiEgqacyuiIiIiJQtNbsiIiIiUrbU7IqIiIhI2VKzKyIiIiJlS82uiIiIiJQtNbsiIiIiUrbU7IqIiIhI2UrmPLsiUvbmLV5Fy7I1u+9ntkykvublGCsSEZFypCO7IhKLlmVryLRu2n2/flQ7DeOejLEiEREpRzqyKyLx6GilvqaN5gOag/tjl4HtBeS4cqKIiMggqdkVkXhsa4Ptm2DD8uC+7QUjauOtSUREyk6/wxjM7J/N7JBSFCMiQ5eqzA6rgokn7LmN2j/uikRKKlV5FUmpQsbsPg/cZmaLzexvzWxs1EWJyJAosyLpobyKRKzfYQzufjtwu5kdDFwGPGtmC4H/cPf/irpAERkYZVYkPVKT1xdug5Xzei+f1gTTryh9PSIDUNBsDGZWBbwrvK0FngE+Z2b3RVibiAySMiuSHqnI68p50L4wGGPfdWtfmLsBFkmYfo/smtk3gbnA74CvuvtT4ar/a2Z/jrI4ERk4ZVYkPVKV1+qxwdj6Lu2L4qtFZAAKmY1hOfAP7r41x7pjilyPiAydMiuSHsqrSMQKGcawAajuumNm+5jZBQDuvjGiukRk8JRZkfRQXkUiVsiR3Rvd/aGuO+7+hpndCDwcWVVF0vNypF0aZtXSdGxdDBWJlERqMytSgZRXkYgVcmQ31zapuBhFz8uRAmRaN+VsgEXKSGozK1KBlFeRiBUSqCXhAPpbAQc+DSyNtKoiqp80huYrj999v/EHf4yxGpGSKH1mO7fAo6fkXqepiUT6kor32HlrZtKyZg6szJoGuHM2DbWraIqvLJGCFHJk99PAdqAZuB/YBnwyyqJEZEhKm9lhe4NZ9ymJNDWRSKFS8R7b0jaDTEf34X+Zjjpa2mbEVJFI4Qq5qMSbwN+VoBYRKYKSZ7aqJrhlT0nURVMTifQpTe+x9cNX0XzME7vvNy6cDYyMryCRAhUyz+504FpgWvb27n5adGUVSUcrbGuDR6/fs2xDI9TsF19NIhFLdWZFKozyKhK9Qsbs3g98H7gd2BltOUW2rQ22bwq+Tu2y/Zz46hEpjfRmVqTyKK8iESuk2d3h7t+LvJKoDKvq/vXqi1Xx1SJSGiXPbGbzeBqfOr/3Cp3AItKfdL/HiqRAIc3uz83sauAh4K2uhe6+PrKqRGQoSprZhkkv5V2X6aiDtpFqdkXy03usSMQKaXY/Fv68LmuZA+8ofjkiUgQlzWzT1BU0TV2Rc51OYBHpl95jRSJWyGwMB5SiEBEpDmVWJD2UV5HoFTIbwwjgc0Cdu19hZgcBB7v7L6IsTGMARQYnrsyKyMApryLRK+SiEncSTHjddZbXauCWyCoiGANYP3pdznWaxFqkXyXPrIgMmvIqErFCxuwe6O6NZnYRgLt3mJlFWZTGAIoMSckzKyKDpryKRKyQZne7mQ0nGDCPmR1I1hmjufz19Tdp/MEf+3zSzJaJ1Ne8XGidIlK4AWdWRGKjvIpErJBm90bg18BUM7sHOBG4dKg7rh/VTsPoJ4f6NCLSWySZFZFIKK8iEStkNobHzOxp4DjAgGvcfW1fj3nHviNpvvL4vp/40evDK5ud0Pd2IjIgg8msiMQjjrxmtkzs89vXhlm1NB1bF2UJIiVVyGwMs8NfN4c/680Md38iurJEZLCUWZH0KHVeG8Y9CZtHApNzrs+0bgJQsytlpZBhDNkTXdcAxwBLgdMiqUhEhkqZFUmPkua1acJ8mg5aC2delXN9f+fbiKRRIcMYuk12a2ZTgf8XWUUiMiTKrEh6KK8i0Stknt2eVgOHFrsQEYmMMiuSHsqrSJEVMmb33winRCFojmcBz0RYk4gMgTIrkh7Kq0j0ChmzuyTr9x3Ave6+MKJ6RGTolFmR9FBeRSJWyJjdu0tRiIgUR9lltnMLPHpK7+XTmmD6FSUvR6SYyi6vIglUyDCG/2HPVyzdVgHu7jOLXpWIDFpZZXbY3rDrrXBO7iydG4OfanYl5coqryIJVcgwhl+FP38c/vwIsBXQp1GRZCqfzFbVBLeJPS4+074onnpEii9Zee1ohW1twYWfsnWeB2axlCQyVIU0uye6+4lZ9//OzBa6+1eiKkpEhkSZFUmPZOV1Wxts39T72xSbE3zTIpJChTS7I83sJHf/A4CZnQCMjLYsERkCZVYkPZKX12FVvb9NWTk2nlpEiqCQZvfjwB1mNpZgXNFG4PJIqxKRoVBmRdJDeRWJWCGzMSwFDjOzMYC5+8boyxKRwVJmRdIjlryuX5Z7hhMY8NjczJaJ3S4x3DCrlqZj64ZWn0iR9XsFNTPbz8x+CDS7+0Yzqzezj5egNhEZBGVWJD1KntcRtWB7BWNyc93MCh6b2zDuSepHte++n2ndRMuyNVFVLjJohQxjuAu4E7ghvP8C0Az8MKKaku2F22DlvPzrNfenxO8uyiizmc3jaXzq/O4LO2fTULuKpnhKEimmuyhlXkftH9zyGcDY3KYJ82k6aC2ceRVAtyO82eYtXpWzCdZRYCmVfo/sAhPc/T+BXQDuvgPYGWlVSbZyHrQvzP2JuH1h342wSGmUTWYbJr1E/eh1vZZnOupoaZsRQ0UiRVc2ec2nZdkaMq2bui3TUWAppUKO7L5pZuMJJ702s+MIBtCXl3xHbHMdqa0e2/tMVdDcn5IUZZPZpqkraJq6otfyxoWzifuEdZEiKZu89qV+0hiarzx+9/18R4FFolBIs/s54GfAgWa2ENgX+GCkVcWh64htddZXOLpKk6RTZWRWpDworyIR67PZNbMq4OTwdjDB5Qv/7O6dJait9HoesdWRWkmZisusSIopryKl0Wez6+47zazB3b8FPFeimkRkkJRZkfRIal5znRSa2Tw+5/h5kTQoZBjDQjP7LsHZoW92LXT3pyOrahByne2Z2TKR+pqXY6pIJDaJymzPeTizlyufIsnKa8Okl3Iurx+9Lu86kaQrpNnt+l4/+zrdDpxW/HIK1Lml14TYLU83ktk6hfraCbuX1Y9qp2H0kyUuTiR2A87sX19/s98TRgbTnDaMexI2jwQm91qnfIoACXuPzXdSqEia5W12zexT7v5ddz/VzA5x92R8xTJsb9j1VjDVV7bt51A/YjXNV2Z99fLo9eF2OWZOECkzUWd2MM1pz3k4uxlqPnN86NU815IWiX2PjUJHK2xrCzLfZUMj1OwXX01SUfo6sns58N3w9x8DR0RfTgGqaoJbz6m/XqyKpx6R5Bh0Zt+x78hu0wLllKQPj7k+9Gr2FEmXZL7HDlT2pYfzNbDb2mD7pu553X5OKaoTAQobxgDBGaIikh7lndlcH3o1e4qkVzrzOqIWtq7Z08T21cAOq+qeVx2gkhLqq9ndx8zeR3CVtTFm9v7sle7+00grE5GBUmZF0iP9ee156eEXq3IPL+o8Dyyd/byUh76a3QXA3PD3J4DseUgcSH4QRSpLMjOb/TVnz+VW6JdLImUnmXkdinzn1NicYJ1ITPK+07j7ZaUsRESGJpGZ7fk1ZzbbK1gvUoESmdehyndOzcqxubcXKREdVhGR6PT8mlNERKTE1OyKCGz6c+6hBtk07EBERFJI71wiAju25B5qkC1hww56XdK0czYNtatoiq8kERFJoH6bXTMbAXweqHP3T5jZQcDB7v6LyKsTkQEbVGatqvc4uwTLddnSTEcdtI1UsyupMpi8RnXFQ5FyVciR3TuBpUDXjPOrgfsBNbsiyVT2mc11SdPGhbOBkfEUJDJ4A8/rzq2wYVmfT1q/9xYaxi0uToUiKVdIs3uguzea2UUA7t5h1s+EeRr/JxKngWdWROIy4Ly+422raD7gS/0/84haoLQniPYaXhQuqx+9rve2Wyb2OkLdMKuWpmPrIq1RKk8h3eZ2MxtOMO8fZnYg8Fafj0jh+D+RMjLwzIpIXAae14QOO8o1vAigfvS6Xusaxj0Jm0cCk3cvy7RuAlCzK0VXSLN7E/BrYKqZ3QOcCFza5yMiDmLOT44dY3N+chSpQDcx0MyKSFxuokzymmt4Ud5tJ8yn6aC1cOZVu5f1Nw5ZZLD6bXbd/VEzWwocR3D97mvcfW3kleWR95Pj8FU07Ldq0M87b81MWtbM6T75tc7ulhRKWmZFJD/lVSR6hczG8DPgXuBn7v5m9CX1Le8nx/ZFMO7QQT9vS9sMMh3jqa/euHuZzu6WNEpaZkUkv4rOa89LiW9ohJr94qpGytiwArb5F+A9QMbM7jezD5pZTcR1xaJ++Cqaj/n57lv98MEfKRaJUcVkVqQMVGZeR9QG5+5sWL7ntn0TbGuLuzIpQ4UMY1gALDCzKuA04BPAHcCYiGsTkUFQZkXSo2LzmutS4i9WxVOLlL2C5v4KzxQ9H2gEjgDujrIoERkaZVYkPZRXkWgVMma3GTiW4GzRW4H57r4r6sKilGtuv1iuNvPCbbByXu/l05pg+hWlrUXKRjlmVqRcKa8i0Sv0CmpN7r4z6mJKIdfcfgD1o9ppGP1kaYtZOQ/aF0J19gwQ4QlyanZl8MoqsyJlTnkViVjeZtfMTnP3x4ERQEPPC7q4+08jri0Sueb2A+DR68MLYZR4ou7qsd3nJG5fVNr9S9ko18yKlCPlVaR0+jqyezLwOME4op4cUBBFkkWZFUkP5VWkRPI2u+5+Y/jrV9y922BWMzsg0qpEZMCU2dzj8Rtm1eryo5I4yqtI6RQyZvdBgrNDsz0AHFn8ckSkCCoys7nG42daNwGo2ZUkq8i8FtO8n/2ElszmXssb6kfTNPejMVQkSdPXmN13AYcAY83s/VmrxgDlP+G1SMpUemabJsynafxv4e2zdi9r3NAIHboikyRPpee1mFoym8lsGk/9iD0Xglq8ZQaLF0FL6x97ba9veypPX0d2DwbmAPvQfUzRZoJJr0UkWSo7syNqYeua8ETT0PZz4qtHpG+Vndciqx+xiuYTn9h9f17mSVrWHwsbRnXbbvEbdSx+eT0ty9Z0W64GuLz1NWa3BWgxs+PdvfdHIxFJlIrPrK7IJClS8XmNWFPdizRNmN9r+by2Y2nZOgd4++5lGu5U/goZs/snM/skwdctu79acffLI6tKRIZCmRVJD+U1Crk+/AJNLKLJF2q4U4UZVsA2Pwb+BjgLWABMIfiaRUSSSZkVSQ/ltZRG1ILtFQx36rpt3wTb2uKuTCJUyJHdd7r7hWbW4O53m9k84DdRFyYig6bMiqSH8lpKGu5UkQppdjvDn2+Y2aHA/wLTIqtIRIZKmY3AvMWrep3U0kUnt8gQKK8iESuk2b3NzMYBXwJ+BowCvhxpVSIyFMpsBFqWrSHTuon6SWO6Lc+sWQsbltG0sbn7A6Y1wfQrSlihpJTyKhKxfptdd789/HUB8I5oyxGRoVJmhybfEdyuRrf5yuO7LW/8+veCMX/ZU551bgx+qtmVfiivItHr66ISn+vrge7+zeKXk3zz1sykZc0cWDm298rO2TTUrqKp9GWJKLNFku8Ibv2kMTTMqs39oGFVMPGEPffbF0VYoZQD5VWkdPo6sju6ZFWkSEvbDDId46mv3thrXaajDtpGqtmVuCizxdDRSn1NG80HNPdeN64J0NFaKQrlVaRE+rqoxM2lLCRN6oevovmYJ3otb1w4GxhZ+oJEUGaLZltb72EJoKEJUlTKax6dW+DRU3Kv0zh4GaR+x+ya2XTge8B+7n6omc0E5rr7LZFXJyIDpsx2l9kykcYf5L5AVd5ZFHoOSwANTZBIKK9Zhu0Nu97q/UET9GFThqSQ2Rj+A7gO+AGAuz8bzgNYeUEUSQdlNtQw7knYPBKY3GudLhEqCaG8dqmqIbO1lsaVX+u9rnMjDZ06J0YGp5Bmd4S7P2Vm2ct2RFSPiAydMhtqmjCfpoPWwplX9VqX72ivSIkpr6GGSS/lXadzYmQoCml215rZgYADmNkHgdZIqxKRoVBms61flnsM4IZGqNmvKLvIdNTR+NT5exZoZhYpnPIaapq6gqapK3Ku0zkxMhSFNLufBG4D3mVma4CXgY9EWpWIDIUy22VELWxdk3sM4PZzirKLhv1WwI46YM90hDoKJQOgvIpErJCLSvwVeK+ZjQSGAR1AI/BKxLWJyCAos1lG7R/ccnmxqii7aKp9lqYR87qd0KajUFIo5VUkesPyrTCzMWZ2vZl918zOALYCHwNeAj5UqgJFpDDKrEh6KK8ipdPXkd0fAxuAPwKfAL4AvA24wN2XRV+aiAyQMhu1XON/1y8DK2REmEg3yusA5ZtGMLNlIvU1L0dfwAu3wcp5+ddrHuDE6ut/6He4+7sBzOx2YC1Q5+6bS1KZiAyUMhulfON/ba9gncjAKK8D0Nc0gvWj2mkY/WTkNcxbuJyWV88J5uHuaddOGtYsp2l65GXIIPTV7HZ2/eLuO83sZYVQJNGU2Sj1Nf5XZOCU1wHoaxpBHr0+/BB6Qu91RdTSNoPMW+OpH7Ox17rMprHQNkYnpSZUX83uYWa2KfzdgOHhfQPc3cdEXl0C9PzapJhfl8xbM5OWNXNg5Z6zuDVlkQyBMiuSHsprCtUPX0XzMU/0Wq6TUpMtb7Pr7sU5VTnFcn1tUsyvS1raZpDpGE999Z5PiZqySAZLmR2Ezi29x+B2ngfdJ/gXKTrlVaR0dFZFH3J+bVLkr0t6fkrUp0OREhm2N+x6K8cY3DnBOhFJlnwXiNFJotIP/esohXxncOoIkkh8qmrIbK2lceXXui3ObBtP/eh1MRUlIjn1dYEYnSQq/VCzWwor50H7Qqge2325jiCJxKZh0ks5l9ePXpd3nYjERCeIyhBUZrMbx1yZ1WO7XWEJ6H5iWjH0NwcgaB5AkVDT1BU0TV0RdxkiIhKxymt2UzBXZq6Jsxtm1dJ0bF3fD8x3BLlLZ3ginJpdERERqRCV1+wm/KuQXDNAZFqD2Wn6bXYh9xHkLu2LilChiIiISHpUXrMbg5zz6QKZzb1PhMk1A0SuyyOKiIiISP+GxV1AJQjm0+19VFYnwoiIiIhES0d2SyTfVVdEREREJDpqdotNV2QSERFJl1zv3b220Xt5WqnZLSZdkUlERCRd8r1396T38tRSs1tMVTXBLer5dEVERKQ48r1399TPe3muaUNzKWgqUSmq8mp2e14sQtfLFhERkX5kNo+n8anz+90m36XEc00bmvM5BjKVqBRN+XSCuS4WkaALRYiIZJv3s5/Qktnc5zYN9aNpmvvRElUkUpkKnRWprxmUck0bmoumEo1H+TS7UV0sQkeLRSQCLZnNZDaNp37EqpzrM1vrILOOprklLkykwujS4eVPXVtfBnG0ONdXIX199SEilat+xCqaT8w9JWHjwtnAyNIWJCJShtTs9mWAR4vzfb2hi0eIiIiUuZ7fBOeyoRFq9itFNZJFzW4R6asQERGRCpTrm+Bctp9TmnqkGzW7IiIiIkNR6DfBL1ZFX4v0MizuAkREREREoqJmV0RERETKlppdERERESlbGrMrIhKB/i4dmtkykfqal4f0HKBLj4qI9EfNrohIkTWMexLWO2xoz7tN/d5baBi3eEjPkdkyETpa1eyKiPRBza6ISJE11b1I04T5/W84ohbIfQZ3Ic/R+OfrYNuYAdcnIlJJ1OyKiBRbMS5fXshzaBojkfTp3NL/xSfymdYE068oajmVQM2uiIiISCkM25vMm/vR+NScgT92104a1iynaXrxyyp3anZFRERESqBhymporQHGDvixmU1joW0MTcUvq+yp2S0j89bMpGXNHFiZJ0Sds2moXaWgiIiIxKBp6gqapq4Y1GMbF84GRha3oAqhZreMtLTNINMxnvrqjTnXZzrqoG2kml2RcjKU8X+gMYAiUvbU7JaZ+uGraD7miZzrGhfOJrOpjsavf6/P52ioH03T3I9GUZ6IFNOwvWHXW7Bh+eAe3xl+MFazKyJlTM1uEq1f1v1IzYbG4Oej1/f9uM7zwCzv6ob9noc2YEf+p8hsrYPMOprmFlqsiMSmqia4TTxhcI9vX1TcekREEkjNbtKMqIWta7ofqdkRnrXZ39EbmxMc6cmj6Z3tNL0z/wT1oDFBImmT2TyexqfOH9yDNY5fRCqAmt2kyTW35sqxwRvayq/1+dDMtvHUj14XYXEikiQNk14a0uM1jl9EKoGa3RQo9A2tfvS6Ib/5iUh6DOXMbtA3OSJSGdTspsBQ39BERESkDAx19pVcKmBGFjW7IiIiIkk3lKuv5VMhV2VTsysiIiKScEO5+lo+lXJVNjW7IiIiIgkXxZDGShm3PyzuAkREREREoqIju9JLZstEGn/wx0E9tmFWLU3H1hW5IhEREZHBUbMr3TSMexI2jwQmD/ixmdZNAGp2RVIks2l8v5cQHyhdclxEkkTNrnTTNGE+TQethTOvGvBjB3s0WETiUcglxAdKlxwXkaRRsysiUqEKuYT4QFXKCS8ikh5qdqWoMq2bIjnCq7HAIiIiMhhqdqVoGib9BTZshg3Ffd7MlonQ0apmV0REpMiiGLdfavuNYUJf69XsStE01dxO05SFUF28Ca8BGv98HWwbU9TnFBERqXRRjNsvuV07GTeK8X1tomZXiqt6LEw8objP+WJVNNcDL6H+PnWKlJO0HylSXqVSRDFuv+TaFzGjn03U7EryRXE98FLatZNxoxb0+alTpFyk/khRAUeJRCRdoml2fSe0L4rkqSVi29dB2wL4sQ3+OYr8d98w9m2w67iiPqf0oMxKkTSNCW6p1bmx36NEsVNeRfbo3NjvJtE0u3uNgnGHRvLUErG2BUN/jiL/3TeNW0sTvyjqc5ba3/wL6+KuoU/KrMhuG7YsUF5FUqS/zEbT7I45GM6cH8lTi6RR2yZbG3cNfVJmRXZTXkXSpb/MDitVISIiIiIipaZmV0RERETKlppdERERESlbanZFREREpGyp2RURERGRsqVmV0RERETKlppdERERESlbanZFREREpGyZuxf/Sc1eB14p+hPvMQFIwqTfSagjCTVAMupIQg2Qu4793X3fOIopRIVkNgk1QDLqSEINkIw6lNfekvD3AsmoIwk1QDLqSEINMIjMRtLsRs3Mlrj7UaojGTUkpY4k1JCkOpIkCa9JEmpISh1JqCEpdSShhqRJymuShDqSUENS6khCDYOtQ8MYRERERKRsqdkVERERkbKV1mb3trgLCCWhjiTUAMmoIwk1QHLqSJIkvCZJqAGSUUcSaoBk1JGEGpImKa9JEupIQg2QjDqSUAMMoo5UjtkVERERESlEWo/sioiIiIj0S82uiIiIiJStVDW7ZjbVzP7LzFaY2XNmdk2MtVSZ2Z/M7Bcx1rCPmT1gZs+Hr8nxMdTwf8K/i+Vmdq+Z1ZRov3eYWbuZLc9a9nYze8zMXgx/joupjm+EfyfPmtlDZrZP1HUkkfLaq4bY8xrWUbGZVV77psz2qiH2zCqvxclrqppdYAfweXefARwHfNLM6mOq5RpgRUz77vId4Nfu/i7gsFLXY2a1wGeAo9z9UKAK+HCJdn8XcHaPZX8H/M7dDwJ+F96Po47HgEPdfSbwAnB9CepIIuW1u1jzCspsnhqU1z2U2e70HttdavOaqmbX3Vvd/enw980E//BqS12HmU0BzgNuL/W+s2oYA8wGfgjg7tvd/Y0YStkLGG5mewEjgNdKsVN3fwJY32NxA3B3+PvdwAVx1OHuj7r7jvDuk8CUqOtIIuW1Ww1JyStUcGaV174ps91qSEpmldfuywaV11Q1u9nMbBpwOLA4ht1/G/gCsCuGfXd5B/A6cGf4Vc/tZjaylAW4+xrgn4FVQCuw0d0fLWUNPezn7q1hba3AxBhr6XI58Ku4i4ib8hp/XkGZLYDyGlJm48+s8tqvgvOaymbXzEYBDwKfdfdNJd73HKDd3ZeWcr857AUcAXzP3Q8H3qQ0X9vvFo7XaQAOACYDI83so6WsIcnM7AaCrwXvibuWOCmvQALyCspsX5TXPZRZIAGZVV7zG2heU9fsmlk1QQjvcfefxlDCicBcM1sJ3AecZmY/iaGO1cBqd+/61P0AQTBL6b3Ay+7+urt3Aj8FTihxDdnazGwSQPizPa5CzOxjwBzgI17Bk1krr7slIa+gzOakvO6hzO6WhMwqrzkMJq+panbNzAjGz6xw92/GUYO7X+/uU9x9GsFA8cfdveSftNz9f4FXzezgcNHpQKbEZawCjjOzEeHfzenEe0LBz4CPhb9/DGiJowgzOxv4IjDX3bfGUUMSKK/d6khCXkGZ7UV53UOZ7VZHEjKrvPYw6Ly6e2puwEmAA88Cy8LbuTHWcwrwixj3PwtYEr4eDwPjYqjhZuB5YDnwY2DvEu33XoIxTJ0En8A/DownOEP0xfDn22Oq4yXg1ax/o9+P699InDfltdf+Y89rWEfFZlZ57ff1UWa77z/2zCqvxcmrLhcsIiIiImUrVcMYREREREQGQs2uiIiIiJQtNbsiIiIiUrbU7IqIiIhI2VKzKyIiIiJla6+4C5D8zOwmYAswBnjC3X+bZ7sLgBfcPY55O0UE5VUkbZTZyqEjuyng7l/OF8LQBUB9icoRkT4oryLposyWPzW7CWNmN5jZn83st8DB4bK7zOyD4e9fN7OMmT1rZv9sZicAc4FvmNkyMzvQzD5hZv9tZs+Y2YNmNiLref7VzBaZ2V+7njNc9wUz+5/wMV8Plx1oZr82s6Vm9nsze1fJXxCRBFNeRdJFma1MGsaQIGZ2JMHlEQ8n+Lt5Gliatf7twPuAd7m7m9k+7v6Gmf2M4CozD4TbveHu/xH+fgvBVUf+LXyaSQRXyXkXwaX/HjCzcwg+uR7r7lvD/QDcBvytu79oZscC/w6cFt0rIJIeyqtIuiizlUvNbrK8B3jIw+s9hwHLtgnYBtxuZo8Av8jzPIeGAdwHGAX8Jmvdw+6+C8iY2X7hsvcCd3bt193Xm9ko4ATgfjPreuzeQ/nDiZQZ5VUkXZTZCqVmN3nyXr/Z3XeY2THA6QSfTj9F7k+BdwEXuPszZnYpwfXFu7yV9btl/ey532HAG+4+awC1i1Qa5VUkXZTZCqQxu8nyBPA+MxtuZqOB87NXhp8Ex7r7L4HPArPCVZuB0VmbjgZazawa+EgB+30UuDxr3NHb3X0T8LKZXRguMzM7bNB/MpHyo7yKpIsyW6HU7CaIuz8NNAPLgAeB3/fYZDTwCzN7FlgA/J9w+X3AdWb2JzM7EPgSsBh4DHi+gP3+mmBs0RIzWwZcG676CPBxM3sGeA5oGPQfTqTMKK8i6aLMVi5zz3tEX0REREQk1XRkV0RERETKlppdERERESlbanZFREREpGyp2RURERGRsqVmV0RERETKlppdERERESlbanZFREREpGz9/9/x9jRSUnjrAAAAAElFTkSuQmCC\n",
      "text/plain": [
       "<Figure size 864x288 with 3 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "from matplotlib import pyplot as plt\n",
    "fig, axes = plt.subplots(1,3, figsize=(12,4))\n",
    "\n",
    "income_categories = {\n",
    "    'Low Income': 'INCOME<10000',\n",
    "    'Mid Income': '(10000<=INCOME) & (INCOME<50000)',\n",
    "    'High Income': 'INCOME>=50000',\n",
    "}\n",
    "\n",
    "for ax, (inc_title, inc) in zip(axes, income_categories.items()):\n",
    "    m.distribution_on_idca_variable(\n",
    "        'distance',\n",
    "        subselector=inc,\n",
    "        ax=ax,\n",
    "        range=(0,13),\n",
    "    )\n",
    "    ax.set_title(inc_title)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Save and Report Model\n",
    "\n",
    "If we are satisified with this model, or if we just want to record \n",
    "it as part of our workflow while exploring different model\n",
    "structures, we can write the model out to a report.  To do so,\n",
    "we can instantiatie a `larch.Reporter` object."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "metadata": {},
   "outputs": [],
   "source": [
    "report = larch.Reporter(title=m.title)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Then, we can push section headings and report pieces into the\n",
    "report using the \"<<\" operator."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<h1><a name=\"rx1\" reftxt=\"Parameter Summary\" class=\"toc\" toclevel=\"1\"></a>Parameter Summary</h1><div><style type=\"text/css\">\n",
       "    #T_3575d_ th {\n",
       "          vertical-align: top;\n",
       "          text-align: left;\n",
       "    }    #T_3575d_ td {\n",
       "          vertical-align: top;\n",
       "          text-align: left;\n",
       "    }#T_3575d_row0_col0,#T_3575d_row0_col1,#T_3575d_row0_col2,#T_3575d_row0_col3,#T_3575d_row0_col4,#T_3575d_row1_col0,#T_3575d_row1_col1,#T_3575d_row1_col2,#T_3575d_row1_col3,#T_3575d_row1_col4,#T_3575d_row2_col0,#T_3575d_row2_col1,#T_3575d_row2_col2,#T_3575d_row2_col3,#T_3575d_row2_col4,#T_3575d_row3_col0,#T_3575d_row3_col1,#T_3575d_row3_col2,#T_3575d_row3_col3,#T_3575d_row3_col4,#T_3575d_row4_col0,#T_3575d_row4_col1,#T_3575d_row4_col2,#T_3575d_row4_col3,#T_3575d_row4_col4,#T_3575d_row5_col0,#T_3575d_row5_col1,#T_3575d_row5_col2,#T_3575d_row5_col3,#T_3575d_row5_col4,#T_3575d_row6_col0,#T_3575d_row6_col1,#T_3575d_row6_col2,#T_3575d_row6_col3,#T_3575d_row6_col4{\n",
       "            font-family: monospace;\n",
       "        }</style><table id=\"T_3575d_\"><thead>    <tr>        <th class=\"blank level0\"></th>        <th class=\"col_heading level0 col0\">Value</th>        <th class=\"col_heading level0 col1\">Std Err</th>        <th class=\"col_heading level0 col2\">t Stat</th>        <th class=\"col_heading level0 col3\">Signif</th>        <th class=\"col_heading level0 col4\">Null Value</th>        <th class=\"col_heading level0 col5\">Constrained</th>    </tr></thead><tbody>\n",
       "                <tr>\n",
       "                        <th id=\"T_3575d_level0_row0\" class=\"row_heading level0 row0\">EmpNonRetail_HighInc</th>\n",
       "                        <td id=\"T_3575d_row0_col0\" class=\"data row0 col0\"> 1.36</td>\n",
       "                        <td id=\"T_3575d_row0_col1\" class=\"data row0 col1\"> 0.256</td>\n",
       "                        <td id=\"T_3575d_row0_col2\" class=\"data row0 col2\"> 5.32</td>\n",
       "                        <td id=\"T_3575d_row0_col3\" class=\"data row0 col3\">***</td>\n",
       "                        <td id=\"T_3575d_row0_col4\" class=\"data row0 col4\"> 0.00</td>\n",
       "                        <td id=\"T_3575d_row0_col5\" class=\"data row0 col5\"></td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_3575d_level0_row1\" class=\"row_heading level0 row1\">EmpNonRetail_LowInc</th>\n",
       "                        <td id=\"T_3575d_row1_col0\" class=\"data row1 col0\">-0.881</td>\n",
       "                        <td id=\"T_3575d_row1_col1\" class=\"data row1 col1\"> 0.0791</td>\n",
       "                        <td id=\"T_3575d_row1_col2\" class=\"data row1 col2\">-11.14</td>\n",
       "                        <td id=\"T_3575d_row1_col3\" class=\"data row1 col3\">***</td>\n",
       "                        <td id=\"T_3575d_row1_col4\" class=\"data row1 col4\"> 0.00</td>\n",
       "                        <td id=\"T_3575d_row1_col5\" class=\"data row1 col5\"></td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_3575d_level0_row2\" class=\"row_heading level0 row2\">EmpRetail_HighInc</th>\n",
       "                        <td id=\"T_3575d_row2_col0\" class=\"data row2 col0\"> 0.00</td>\n",
       "                        <td id=\"T_3575d_row2_col1\" class=\"data row2 col1\"> NA</td>\n",
       "                        <td id=\"T_3575d_row2_col2\" class=\"data row2 col2\"> NA</td>\n",
       "                        <td id=\"T_3575d_row2_col3\" class=\"data row2 col3\"></td>\n",
       "                        <td id=\"T_3575d_row2_col4\" class=\"data row2 col4\"> 0.00</td>\n",
       "                        <td id=\"T_3575d_row2_col5\" class=\"data row2 col5\">fixed value</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_3575d_level0_row3\" class=\"row_heading level0 row3\">EmpRetail_LowInc</th>\n",
       "                        <td id=\"T_3575d_row3_col0\" class=\"data row3 col0\"> 0.00</td>\n",
       "                        <td id=\"T_3575d_row3_col1\" class=\"data row3 col1\"> NA</td>\n",
       "                        <td id=\"T_3575d_row3_col2\" class=\"data row3 col2\"> NA</td>\n",
       "                        <td id=\"T_3575d_row3_col3\" class=\"data row3 col3\"></td>\n",
       "                        <td id=\"T_3575d_row3_col4\" class=\"data row3 col4\"> 0.00</td>\n",
       "                        <td id=\"T_3575d_row3_col5\" class=\"data row3 col5\">fixed value</td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_3575d_level0_row4\" class=\"row_heading level0 row4\">Theta</th>\n",
       "                        <td id=\"T_3575d_row4_col0\" class=\"data row4 col0\"> 0.749</td>\n",
       "                        <td id=\"T_3575d_row4_col1\" class=\"data row4 col1\"> 0.0152</td>\n",
       "                        <td id=\"T_3575d_row4_col2\" class=\"data row4 col2\">-16.45</td>\n",
       "                        <td id=\"T_3575d_row4_col3\" class=\"data row4 col3\">***</td>\n",
       "                        <td id=\"T_3575d_row4_col4\" class=\"data row4 col4\"> 1.00</td>\n",
       "                        <td id=\"T_3575d_row4_col5\" class=\"data row4 col5\"></td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_3575d_level0_row5\" class=\"row_heading level0 row5\">distance</th>\n",
       "                        <td id=\"T_3575d_row5_col0\" class=\"data row5 col0\">-0.0418</td>\n",
       "                        <td id=\"T_3575d_row5_col1\" class=\"data row5 col1\"> 0.0107</td>\n",
       "                        <td id=\"T_3575d_row5_col2\" class=\"data row5 col2\">-3.90</td>\n",
       "                        <td id=\"T_3575d_row5_col3\" class=\"data row5 col3\">***</td>\n",
       "                        <td id=\"T_3575d_row5_col4\" class=\"data row5 col4\"> 0.00</td>\n",
       "                        <td id=\"T_3575d_row5_col5\" class=\"data row5 col5\"></td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                        <th id=\"T_3575d_level0_row6\" class=\"row_heading level0 row6\">logsum</th>\n",
       "                        <td id=\"T_3575d_row6_col0\" class=\"data row6 col0\"> 1.02</td>\n",
       "                        <td id=\"T_3575d_row6_col1\" class=\"data row6 col1\"> 0.0317</td>\n",
       "                        <td id=\"T_3575d_row6_col2\" class=\"data row6 col2\"> 32.16</td>\n",
       "                        <td id=\"T_3575d_row6_col3\" class=\"data row6 col3\">***</td>\n",
       "                        <td id=\"T_3575d_row6_col4\" class=\"data row6 col4\"> 0.00</td>\n",
       "                        <td id=\"T_3575d_row6_col5\" class=\"data row6 col5\"></td>\n",
       "            </tr>\n",
       "    </tbody></table></div>"
      ],
      "text/plain": [
       "<xmle.Elem 'div' with 3 children>"
      ]
     },
     "execution_count": 37,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "report.append('# Parameter Summary')\n",
    "report.append(m.parameter_summary())\n",
    "report"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 38,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<h1><a name=\"rx2\" reftxt=\"Estimation Statistics\" class=\"toc\" toclevel=\"1\"></a>Estimation Statistics</h1><div><table><thead><tr><th>Statistic</th><th>Aggregate</th><th>Per Case</th></tr><tr><td>Number of Cases</td><td colspan=\"2\">7564</td></tr><tr><td>Log Likelihood at Convergence</td><td>-25157.73</td><td>-3.33</td></tr><tr><td>Log Likelihood at Null Parameters</td><td>-28238.34</td><td>-3.73</td></tr><tr><td>Rho Squared w.r.t. Null Parameters</td><td colspan=\"2\">0.109</td></tr></thead><tbody></tbody></table></div>"
      ],
      "text/plain": [
       "<xmle.Elem 'div' with 5 children>"
      ]
     },
     "execution_count": 38,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "report.append(\"# Estimation Statistics\")\n",
    "report.append(m.estimation_statistics())\n",
    "report"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 39,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<h1><a name=\"rx3\" reftxt=\"Utility Functions\" class=\"toc\" toclevel=\"1\"></a>Utility Functions</h1><div><table class=\"floatinghead\" style=\"margin-top:1px;\"><tr><td style=\"text-align:left;\"><div></div> + <span class=\"LinearFunc_Param\">P.logsum</span> * <span class=\"LinearFunc_Data\">X.logsum</span><br> + <span class=\"LinearFunc_Param\">P.distance</span> * <span class=\"LinearFunc_Data\">X.distance</span><br> + <span class=\"Larch_Parameter\">P.Theta</span> * log(<br>   + <span></span>exp(<span class=\"LinearFunc_Param\">P.EmpRetail_HighInc</span>) * <span class=\"LinearFunc_Data\">X('RETAIL_EMP * (INCOME&gt;50000)')</span><br>   + <span></span>exp(<span class=\"LinearFunc_Param\">P.EmpNonRetail_HighInc</span>) * <span class=\"LinearFunc_Data\">X('NONRETAIL_EMP*(INCOME&gt;50000)')</span><br>   + <span></span>exp(<span class=\"LinearFunc_Param\">P.EmpRetail_LowInc</span>) * <span class=\"LinearFunc_Data\">X('RETAIL_EMP*(INCOME&lt;=50000)')</span><br>   + <span></span>exp(<span class=\"LinearFunc_Param\">P.EmpNonRetail_LowInc</span>) * <span class=\"LinearFunc_Data\">X('NONRETAIL_EMP*(INCOME&lt;=50000)')</span><br>)</td></tr></table></div>"
      ],
      "text/plain": [
       "<xmle.Elem 'div' with 7 children>"
      ]
     },
     "execution_count": 39,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "report.append(\"# Utility Functions\")\n",
    "report.append(m.utility_functions())\n",
    "report"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Once we have assembled the report, we can save the file to \n",
    "disk as an HTML report containing the content previously \n",
    "assembled. Attaching the model itself to the report as\n",
    "metadata can be done within the `save` method, which will\n",
    "allow us to directly reload the same model again later."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 40,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'/tmp/exampville_destination_choice.html'"
      ]
     },
     "execution_count": 40,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "report.save(\n",
    "    '/tmp/exampville_destination_choice.html', \n",
    "    overwrite=True, \n",
    "    metadata=m,\n",
    ")"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.6"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
