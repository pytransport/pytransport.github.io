

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta content="noindex, nofollow" name="robots" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Managing Environments &mdash; Python for Transportation 1.1.0, April 2020 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Starting Jupyter" href="starting-jupyter.html" />
    <link rel="prev" title="Installing Conda" href="installing-conda.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Python for Transportation
          

          
          </a>

          
            
            
              <div class="version">
                1.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="_index.html">Getting Started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="installing-conda.html">Installing Conda</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Managing Environments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#creating-an-environment">Creating an Environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#from-scratch">From Scratch</a></li>
<li class="toctree-l4"><a class="reference internal" href="#from-anaconda-cloud">From Anaconda Cloud</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changing-what-is-in-an-environment">Changing What is in an Environment</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#using-an-environment">Using an Environment</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="starting-jupyter.html">Starting Jupyter</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../basic-python/_index.html">Python Fundamentals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tabular-analysis/_index.html">Tabular Data Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../visualization/_index.html">Data Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../geographic-analysis/_index.html">Geographic Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../choice-modeling/_index.html">Discrete Choice Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/_index.html">Exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data/example-data.html">Tutorial Data Files</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Python for Transportation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="_index.html">Getting Started</a> &raquo;</li>
        
      <li>Managing Environments</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/course-content/starting/environments.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="managing-environments">
<h1>Managing Environments<a class="headerlink" href="#managing-environments" title="Permalink to this headline">¶</a></h1>
<p>When you use conda to install Python, by default a <cite>base</cite> environment is
created and packages are installed in that environment.  However, in general you should
almost never undertake project work in the <cite>base</cite> environment, especially if your
project involves installing any custom Python packages.  Instead,
you should create a new environment for each project, and install the
necessary packages and dependencies in that environment.  This will help
prevent software conflicts, and ensure that tools installed for one project
will not break another project.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The instructions below provide only the most basic steps to
set up and use an environment.  Much more extensive documentation
on <a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html" title="(in conda v4.13.0.post1+0adcd595)"><span class="xref std std-doc">managing environments</span></a>
is available in the conda documentation
itself.</p>
</div>
<div class="section" id="creating-an-environment">
<h2>Creating an Environment<a class="headerlink" href="#creating-an-environment" title="Permalink to this headline">¶</a></h2>
<div class="section" id="from-scratch">
<h3>From Scratch<a class="headerlink" href="#from-scratch" title="Permalink to this headline">¶</a></h3>
<p>Use the terminal (MacOS/Linux) or an Anaconda Prompt (Windows) to create an environment:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">conda create --name your_environment_name</span>
</pre></div>
</div>
<p>Be sure to replace <code class="docutils literal notranslate"><span class="pre">your_environment_name</span></code> with a suitable
name for the environment to create.</p>
<p>When conda asks you to proceed, type “y” or just hit enter:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">proceed ([y]/n)?</span>
</pre></div>
</div>
<p>This creates the <code class="docutils literal notranslate"><span class="pre">your_environment_name</span></code> environment. By default,
this new environment uses the same version of Python that you are
currently using.  If you want a specific version of Python you can
request it explicitly:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">conda create --name your_environment_name python=3.7</span>
</pre></div>
</div>
<p>You can also create an environment with one or more specific packages
installed, by giving them as well:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">conda create --name your_environment_name python=3.7 numpy pandas</span>
</pre></div>
</div>
<p>Clearly, if you have a lot of packages to install, this can become a long
command, and a bit unwieldy to use.  Fortunately, you can instead just
describe the environment you want to create in a YAML file instead of
doing so on the command line.  To do so, you would get or create a YAML
file named ‘my_environment.yml’ that looks something like this:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">your_environment_name</span><span class="w"></span>

<span class="nt">channels</span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">conda-forge</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">defaults</span><span class="w"></span>

<span class="nt">dependencies</span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">python=3.7</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pip</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">numpy&gt;=1.15.4</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pandas&gt;=0.23.4</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scipy&gt;=1.1</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scikit-learn&gt;=0.20.1</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">networkx</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">pip</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">specialty_package</span><span class="w"></span>
</pre></div>
</div>
<p>And then create the environment using the file.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">conda env create -f my_environment.yml</span>
</pre></div>
</div>
<p>You may notice that the <code class="docutils literal notranslate"><span class="pre">specialty_package</span></code> in the environment.yml file
is installed using pip instead of conda.  This is
<a class="reference external" href="https://www.anaconda.com/using-pip-in-a-conda-environment/">strongly discouraged</a>
if the package is also available from conda, but may be necessary to
install certain packages that are available only on PyPI.</p>
</div>
<div class="section" id="from-anaconda-cloud">
<h3>From Anaconda Cloud<a class="headerlink" href="#from-anaconda-cloud" title="Permalink to this headline">¶</a></h3>
<p>In addition to creating environments from a file on your local file system,
you can also create environments using remote definitions available on
<a class="reference external" href="https://www.anaconda.org">anaconda.org</a>.  For example, an environment
specifically set up for this transportation tutorial (‘tt’ for short) can
be installed using the command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">conda env create camsys/tt</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you installed the “Miniconda” version of the anaconda package, you
may need to install or update the <em>conda</em> and <em>anaconda-client</em> packages
before the remote environment installation will work:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">conda install -n base -c defaults conda anaconda-client</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="changing-what-is-in-an-environment">
<h3>Changing What is in an Environment<a class="headerlink" href="#changing-what-is-in-an-environment" title="Permalink to this headline">¶</a></h3>
<p>The set of packages in any existing environment can be changed after
creating an environment, using the <em>conda install</em> command.
For example, to add the latest <em>scikit-learn</em> package to the <em>tt</em> environment,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">conda install scikit-learn -n tt</span>
</pre></div>
</div>
<p>You can also install multiple packages at one time, by just listing them as well.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">conda install scikit-learn scikit-image -n tt</span>
</pre></div>
</div>
<p>The <em>-t</em> flag names the environment into which to install the package(s). If this
is omitted, the packages will be installed into the currently active
environment.  You can also install packages in the currently active environment
using <em>pip</em>, although like in the original environment definition, it is
recommended to install using conda if possible.  It is also recommended to install
as much as possible in the original definition and creation of the environment.
Adding packages later usually works, but sometimes it can break functionality
of previously installed packages (usually by changing some dependency).  Conda
does as best it can to prevent these problems, but inter-package dependencies
are complicated to manage.</p>
</div>
</div>
<div class="section" id="using-an-environment">
<h2>Using an Environment<a class="headerlink" href="#using-an-environment" title="Permalink to this headline">¶</a></h2>
<p>When using the terminal (MacOS/Linux) or an Anaconda Prompt (Windows), the
current environment name will be shown as part of the prompt:</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>base<span class="p">)</span> C:\Users\cfinley&gt;
</pre></div>
</div>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(base)</span> <span class="gp">Computer:~ cfinley$</span>
</pre></div>
</div>
<p>By default, when opening a new terminal the environment is set as the
<code class="docutils literal notranslate"><span class="pre">base</span></code> environment, although this is typically not where you want to
be if you have followed the advice above.  Instead, to switch environments
use the <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">activate</span></code> command:</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>base<span class="p">)</span> C:\Users\cfinley<span class="p">&gt;</span> conda activate your_environment_name
<span class="p">(</span>your_environment_name<span class="p">)</span> C:\Users\cfinley&gt;
</pre></div>
</div>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(base)</span> <span class="gp">Computer:~ cfinley$ </span>conda activate your_environment_name
<span class="gp gp-VirtualEnv">(your_environment_name)</span> <span class="gp">Computer:~ cfinley$</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="starting-jupyter.html" class="btn btn-neutral float-right" title="Starting Jupyter" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="installing-conda.html" class="btn btn-neutral float-left" title="Installing Conda" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>